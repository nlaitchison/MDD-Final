!function(a,b,c){"use strict";function d(a){return null!=a&&""!==a&&"hasOwnProperty"!==a&&h.test("."+a)}function e(a,b){if(!d(b))throw g("badmember",'Dotted member path "@{0}" is invalid.',b);for(var e=b.split("."),f=0,h=e.length;h>f&&a!==c;f++){var i=e[f];a=null!==a?a[i]:c}return a}function f(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var g=b.$$minErr("$resource"),h=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;b.module("ngResource",["ng"]).factory("$resource",["$http","$q",function(a,d){function h(a){return i(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function i(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function j(a,b){this.template=a,this.defaults=b||{},this.urlParams={}}function k(h,i,r){function s(a,b){var c={};return b=o({},i,b),n(b,function(b,d){q(b)&&(b=b()),c[d]=b&&b.charAt&&"@"==b.charAt(0)?e(a,b.substr(1)):b}),c}function t(a){return a.resource}function u(a){f(a||{},this)}var v=new j(h);return r=o({},l,r),n(r,function(e,h){var i=/^(POST|PUT|PATCH)$/i.test(e.method);u[h]=function(h,j,k,l){var r,w,x,y={};switch(arguments.length){case 4:x=l,w=k;case 3:case 2:if(!q(j)){y=h,r=j,w=k;break}if(q(h)){w=h,x=j;break}w=j,x=k;case 1:q(h)?w=h:i?r=h:y=h;break;case 0:break;default:throw g("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var z=this instanceof u,A=z?r:e.isArray?[]:new u(r),B={},C=e.interceptor&&e.interceptor.response||t,D=e.interceptor&&e.interceptor.responseError||c;n(e,function(a,b){"params"!=b&&"isArray"!=b&&"interceptor"!=b&&(B[b]=p(a))}),i&&(B.data=r),v.setUrlParams(B,o({},s(r,e.params||{}),y),e.url);var E=a(B).then(function(a){var c=a.data,d=A.$promise;if(c){if(b.isArray(c)!==!!e.isArray)throw g("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",e.isArray?"array":"object",b.isArray(c)?"array":"object");e.isArray?(A.length=0,n(c,function(a){A.push(new u(a))})):(f(c,A),A.$promise=d)}return A.$resolved=!0,a.resource=A,a},function(a){return A.$resolved=!0,(x||m)(a),d.reject(a)});return E=E.then(function(a){var b=C(a);return(w||m)(b,a.headers),b},D),z?E:(A.$promise=E,A.$resolved=!1,A)},u.prototype["$"+h]=function(a,b,c){q(a)&&(c=b,b=a,a={});var d=u[h].call(this,a,this,b,c);return d.$promise||d}}),u.bind=function(a){return k(h,o({},i,a),r)},u}var l={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},m=b.noop,n=b.forEach,o=b.extend,p=b.copy,q=b.isFunction;return j.prototype={setUrlParams:function(a,c,d){var e,f,i=this,j=d||i.template,k=i.urlParams={};n(j.split(/\W/),function(a){if("hasOwnProperty"===a)throw g("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(j)&&(k[a]=!0)}),j=j.replace(/\\:/g,":"),c=c||{},n(i.urlParams,function(a,d){e=c.hasOwnProperty(d)?c[d]:i.defaults[d],b.isDefined(e)&&null!==e?(f=h(e),j=j.replace(new RegExp(":"+d+"(\\W|$)","g"),function(a,b){return f+b})):j=j.replace(new RegExp("(/?):"+d+"(\\W|$)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})}),j=j.replace(/\/+$/,"")||"/",j=j.replace(/\/\.(?=\w+($|\?))/,"."),a.url=j.replace(/\/\\\./,"/."),n(c,function(b,c){i.urlParams[c]||(a.params=a.params||{},a.params[c]=b)})}},k}])}(window,window.angular),function(a,b,c){"use strict";b.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(a,d){function e(){var a,e,f,i;for(a in h)k(g[a])&&d.cookies(a,c);for(a in g)e=g[a],b.isString(e)?e!==h[a]&&(d.cookies(a,e),i=!0):b.isDefined(h[a])?g[a]=h[a]:delete g[a];if(i){i=!1,f=d.cookies();for(a in g)g[a]!==f[a]&&(k(f[a])?delete g[a]:g[a]=f[a],i=!0)}}var f,g={},h={},i=!1,j=b.copy,k=b.isUndefined;return d.addPollFn(function(){var b=d.cookies();f!=b&&(f=b,j(b,h),j(b,g),i&&a.$apply())})(),i=!0,a.$watch(e),g}]).factory("$cookieStore",["$cookies",function(a){return{get:function(c){var d=a[c];return d?b.fromJson(d):d},put:function(c,d){a[c]=b.toJson(d)},remove:function(b){delete a[b]}}}])}(window,window.angular),function(a,b){"use strict";function c(){this.$get=["$$sanitizeUri",function(a){return function(b){var c=[];return f(b,i(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}function d(a){var c=[],d=i(c,b.noop);return d.chars(a),c.join("")}function e(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function f(a,c){function d(a,d,f,h){if(d=b.lowercase(d),x[d])for(;s.last()&&y[s.last()];)e("",s.last());w[d]&&s.last()==d&&e("",d),h=t[d]||!!h,h||s.push(d);var i={};f.replace(m,function(a,b,c,d,e){var f=c||d||e||"";i[b]=g(f)}),c.start&&c.start(d,i,h)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=s.length-1;f>=0&&s[f]!=d;f--);if(f>=0){for(e=s.length-1;e>=f;e--)c.end&&c.end(s[e]);s.length=f}}var f,h,i,s=[],u=a;for(s.last=function(){return s[s.length-1]};a;){if(h=!0,s.last()&&z[s.last()])a=a.replace(new RegExp("(.*)<\\s*\\/\\s*"+s.last()+"[^>]*>","i"),function(a,b){return b=b.replace(p,"$1").replace(r,"$1"),c.chars&&c.chars(g(b)),""}),e("",s.last());else if(0===a.indexOf("<!--")?(f=a.indexOf("--",4),f>=0&&a.lastIndexOf("-->",f)===f&&(c.comment&&c.comment(a.substring(4,f)),a=a.substring(f+3),h=!1)):q.test(a)?(i=a.match(q),i&&(a=a.replace(i[0],""),h=!1)):o.test(a)?(i=a.match(l),i&&(a=a.substring(i[0].length),i[0].replace(l,e),h=!1)):n.test(a)&&(i=a.match(k),i&&(a=a.substring(i[0].length),i[0].replace(k,d),h=!1)),h){f=a.indexOf("<");var v=0>f?a:a.substring(0,f);a=0>f?"":a.substring(f),c.chars&&c.chars(g(v))}if(a==u)throw j("badparse","The sanitizer was unable to parse the following block of html: {0}",a);u=a}e()}function g(a){if(!a)return"";var b=E.exec(a),c=b[1],d=b[3],e=b[2];return e&&(D.innerHTML=e.replace(/</g,"&lt;"),e="textContent"in D?D.textContent:D.innerText),c+e+d}function h(a){return a.replace(/&/g,"&amp;").replace(s,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&z[a]&&(d=a),d||A[a]!==!0||(e("<"),e(a),b.forEach(f,function(d,f){var g=b.lowercase(f),i="img"===a&&"src"===g||"background"===g;C[g]!==!0||B[g]===!0&&!c(d,i)||(e(" "),e(f),e('="'),e(h(d)),e('"'))}),e(g?"/>":">"))},end:function(a){a=b.lowercase(a),d||A[a]!==!0||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(h(a))}}}var j=b.$$minErr("$sanitize"),k=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,l=/^<\s*\/\s*([\w:-]+)[^>]*>/,m=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,n=/^</,o=/^<\s*\//,p=/<!--(.*?)-->/g,q=/<!DOCTYPE([^>]*?)>/i,r=/<!\[CDATA\[(.*?)]]>/g,s=/([^\#-~| |!])/g,t=e("area,br,col,hr,img,wbr"),u=e("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=e("rp,rt"),w=b.extend({},v,u),x=b.extend({},u,e("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),y=b.extend({},v,e("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),z=e("script,style"),A=b.extend({},t,x,y,w),B=e("background,cite,href,longdesc,src,usemap"),C=b.extend({},B,e("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),D=document.createElement("pre"),E=/^(\s*)([\s\S]*?)(\s*)$/;b.module("ngSanitize",[]).provider("$sanitize",c),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,e=/^mailto:/;return function(f,g){function h(a){a&&n.push(d(a))}function i(a,c){n.push("<a "),b.isDefined(g)&&(n.push('target="'),n.push(g),n.push('" ')),n.push('href="'),n.push(a),n.push('">'),h(c),n.push("</a>")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]==j[3]&&(k="mailto:"+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(e,"")),m=m.substring(l+j[0].length);return h(m),a(n.join(""))}}])}(window,window.angular),function(a,b){"use strict";function c(){function a(a,c){return b.extend(new(b.extend(function(){},{prototype:a})),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){var f="?"===d?d:null,g="*"===d?d:null;return e.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){if(d[a]=b.extend({reloadOnSearch:!0},e,a&&c(a,e)),a){var f="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[f]=b.extend({redirectTo:a},c(f,e))}return this},this.otherwise=function(a){return this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(c,e,f,g,h,i,j,k){function l(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;g>f;++f){var h=c[f-1],i="string"==typeof e[f]?decodeURIComponent(e[f]):e[f];h&&i&&(d[h.name]=i)}return d}function m(){var a=n(),d=q.current;a&&d&&a.$$route===d.$$route&&b.equals(a.pathParams,d.pathParams)&&!a.reloadOnSearch&&!p?(d.params=a.params,b.copy(d.params,f),c.$broadcast("$routeUpdate",d)):(a||d)&&(p=!1,c.$broadcast("$routeChangeStart",a,d),q.current=a,a&&a.redirectTo&&(b.isString(a.redirectTo)?e.path(o(a.redirectTo,a.params)).search(a.params).replace():e.url(a.redirectTo(a.pathParams,e.path(),e.search())).replace()),g.when(a).then(function(){if(a){var c,d,e=b.extend({},a.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?h.get(a):h.invoke(a)}),b.isDefined(c=a.template)?b.isFunction(c)&&(c=c(a.params)):b.isDefined(d=a.templateUrl)&&(b.isFunction(d)&&(d=d(a.params)),d=k.getTrustedResourceUrl(d),b.isDefined(d)&&(a.loadedTemplateUrl=d,c=i.get(d,{cache:j}).then(function(a){return a.data}))),b.isDefined(c)&&(e.$template=c),g.all(e)}}).then(function(e){a==q.current&&(a&&(a.locals=e,b.copy(a.params,f)),c.$broadcast("$routeChangeSuccess",a,d))},function(b){a==q.current&&c.$broadcast("$routeChangeError",a,d,b)}))}function n(){var c,f;return b.forEach(d,function(d){!f&&(c=l(e.path(),d))&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function o(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var p=!1,q={routes:d,reload:function(){p=!0,c.$evalAsync(m)}};return c.$on("$locationChangeSuccess",m),q}]}function d(){this.$get=function(){return{}}}function e(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){l&&(l.$destroy(),l=null),m&&(d.leave(m),m=null)}function k(){var g=a.current&&a.current.locals,h=g&&g.$template;if(b.isDefined(h)){var k=e.$new(),p=a.current,q=i(k,function(a){d.enter(a,null,m||f,function(){!b.isDefined(n)||n&&!e.$eval(n)||c()}),j()});m=q,l=p.scope=k,l.$emit("$viewContentLoaded"),l.$eval(o)}else j()}var l,m,n=g.autoscroll,o=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function f(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());if(f.controller){g.$scope=d;var i=b(f.controller,g);f.controllerAs&&(d[f.controllerAs]=i),e.data("$ngControllerController",i),e.children().data("$ngControllerController",i)}h(d)}}}var g=b.module("ngRoute",["ng"]).provider("$route",c);g.provider("$routeParams",d),g.directive("ngView",e),g.directive("ngView",f),e.$inject=["$route","$anchorScroll","$animate"],f.$inject=["$compile","$controller","$route"]}(window,window.angular),function(){function g(a){throw a}function ba(a){return function(){return this[a]}}function o(a){return function(){return a}}function da(){}function ea(a){a.mb=function(){return a.ed?a.ed:a.ed=new a}}function fa(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function s(a){return a!==aa}function ga(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function ha(a){return"number"==typeof a}function ia(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function ja(a){return a.call.apply(a.bind,arguments)}function ka(a,b){if(a||g(Error()),2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),a.apply(b,d)}}return function(){return a.apply(b,arguments)}}function v(){return v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,v.apply(k,arguments)}function la(a,b){function c(){}c.prototype=b.prototype,a.Yd=b.prototype,a.prototype=new c}function ma(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}g(Error("Invalid JSON string: "+a))}function na(){this.gc=aa}function oa(a,b,c){switch(typeof b){case"string":pa(b,c);break;case"number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case"boolean":c.push(b);break;case"undefined":c.push("null");break;case"object":if(b==k){c.push("null");break}if("array"==fa(b)){var d=b.length;c.push("[");for(var e="",f=0;d>f;f++)c.push(e),e=b[f],oa(a,a.gc?a.gc.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{"),d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),pa(f,c),c.push(":"),oa(a,a.gc?a.gc.call(b,f,e):e,c),d=","));c.push("}");break;case"function":break;default:g(Error("Unknown type: "+typeof b))}}function pa(a,b){b.push('"',a.replace(ra,function(a){if(a in qa)return qa[a];var b=a.charCodeAt(0),c="\\u";return 16>b?c+="000":256>b?c+="00":4096>b&&(c+="0"),qa[a]=c+b.toString(16)}),'"')}function sa(a){return"undefined"!=typeof JSON&&s(JSON.parse)?JSON.parse(a):ma(a)}function w(a){if("undefined"!=typeof JSON&&s(JSON.stringify))a=JSON.stringify(a);else{var b=[];oa(new na,a,b),a=b.join("")}return a}function ta(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);e>=55296&&56319>=e&&(e-=55296,d++,y(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320)),128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=63&e|128)}return b}function z(a,b,c,d){var e;b>d?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c),e&&g(Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+"."))}function A(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:ua.assert(l,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return a+" failed: "+(d+" argument ")}function B(a,b,c,d){(!d||s(c))&&"function"!=fa(c)&&g(Error(A(a,b,d)+"must be a valid function."))}function va(a,b,c){s(c)&&(!ia(c)||c===k)&&g(Error(A(a,b,j)+"must be a valid context object."))}function C(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function wa(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0}function za(a){return u(a)&&0!==a.length&&!xa.test(a)}function Aa(a,b,c){(!c||s(b))&&Ba(A(a,1,c),b)}function Ba(a,b,c,d){if(c||(c=0),d||(d=[]),s(b)||g(Error(a+"contains undefined"+Ca(d))),"function"==fa(b)&&g(Error(a+"contains a function"+Ca(d)+" with contents: "+b.toString())),Da(b)&&g(Error(a+"contains "+b.toString()+Ca(d))),c>1e3&&g(new TypeError(a+"contains a cyclic object value ("+d.slice(0,100).join(".")+"...)")),u(b)&&b.length>10485760/3&&10485760<ta(b).length&&g(Error(a+"contains a string greater than 10485760 utf8 bytes"+Ca(d)+" ('"+b.substring(0,50)+"...')")),ia(b))for(var e in b)C(b,e)&&(".priority"!==e&&".value"!==e&&".sv"!==e&&!za(e)&&g(Error(a+"contains an invalid key ("+e+")"+Ca(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')),d.push(e),Ba(a,b[e],c+1,d),d.pop())}function Ca(a){return 0==a.length?"":" in property '"+a.join(".")+"'"}function Ea(a,b){ia(b)||g(Error(A(a,1,l)+" must be an object containing the children to replace.")),Aa(a,b,l)}function Fa(a,b,c,d){(!d||s(c))&&!(c===k||ha(c)||u(c)||ia(c)&&C(c,".sv")||!g(Error(A(a,b,d)+"must be a valid firebase priority (a string, number, or null).")))}function Ga(a,b,c){if(!c||s(b))switch(b){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:g(Error(A(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".'))}}function Ha(a,b){s(b)&&!za(b)&&g(Error(A(a,2,j)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").'))}function Ia(a,b){(!u(b)||0===b.length||ya.test(b))&&g(Error(A(a,1,l)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"'))}function D(a,b){".info"===E(b)&&g(Error(a+" failed: Can't modify data under /.info/"))}function F(a,b,c,d,e,f,h){this.n=a,this.path=b,this.Da=c,this.da=d,this.va=e,this.Ba=f,this.Ra=h,s(this.da)&&s(this.Ba)&&s(this.Da)&&g("Query: Can't combine startAt(), endAt(), and limit().")}function Ka(a){var b={};return s(a.da)&&(b.sp=a.da),s(a.va)&&(b.sn=a.va),s(a.Ba)&&(b.ep=a.Ba),s(a.Ra)&&(b.en=a.Ra),s(a.Da)&&(b.l=a.Da),s(a.da)&&s(a.va)&&a.da===k&&a.va===k&&(b.vf="l"),b}function Ja(a,b,c){var d={};return b&&c?(d.cancel=b,B(a,3,d.cancel,j),d.T=c,va(a,4,d.T)):b&&("object"==typeof b&&b!==k?d.T=b:"function"==typeof b?d.cancel=b:g(Error(A(a,3,j)+"must either be a cancel callback or a context object."))),d}function J(a){if(a instanceof J)return a;if(1==arguments.length){this.m=a.split("/");for(var b=0,c=0;c<this.m.length;c++)0<this.m[c].length&&(this.m[b]=this.m[c],b++);this.m.length=b,this.Z=0}else this.m=arguments[0],this.Z=arguments[1]}function E(a){return a.Z>=a.m.length?k:a.m[a.Z]}function Ma(a){var b=a.Z;return b<a.m.length&&b++,new J(a.m,b)}function Na(a,b){var c=E(a);return c===k?b:c===E(b)?Na(Ma(a),Ma(b)):void g("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")")}function Oa(){this.children={},this.sc=0,this.value=k}function Pa(a,b,c){this.Ea=a?a:"",this.Ab=b?b:k,this.z=c?c:new Oa}function K(a,b){for(var c,d=b instanceof J?b:new J(b),e=a;(c=E(d))!==k;)e=new Pa(c,e,wa(e.z.children,c)||new Oa),d=Ma(d);return e}function Qa(a,b){y("undefined"!=typeof b),a.z.value=b,Ra(a)}function Sa(a,b,c,d){c&&!d&&b(a),a.w(function(a){Sa(a,b,j,d)}),c&&d&&b(a)}function Ta(a,b,c){for(a=c?a:a.parent();a!==k;){if(b(a))return j;a=a.parent()}return l}function Ra(a){if(a.Ab!==k){var b=a.Ab,c=a.Ea,d=a.f(),e=C(b.z.children,c);d&&e?(delete b.z.children[c],b.z.sc--,Ra(b)):!d&&!e&&(b.z.children[c]=a.z,b.z.sc++,Ra(b))}}function Ua(a,b){this.Oa=a?a:Va,this.ca=b?b:Wa}function Va(a,b){return b>a?-1:a>b?1:0}function Xa(a,b){for(var c,d=a.ca,e=k;!d.f();){if(c=a.Oa(b,d.key),0===c){if(d.left.f())return e?e.key:k;for(d=d.left;!d.right.f();)d=d.right;return d.key}0>c?d=d.left:c>0&&(e=d,d=d.right)}g(Error("Attempted to find predecessor key for a nonexistent key.  What gives?"))}function Ya(a,b){for(this.md=b,this.Tb=[];!a.f();)this.Tb.push(a),a=a.left}function Za(a){if(0===a.Tb.length)return k;var b,c=a.Tb.pop();for(b=a.md?a.md(c.key,c.value):{key:c.key,value:c.value},c=c.right;!c.f();)a.Tb.push(c),c=c.left;return b}function $a(a,b,c,d,e){this.key=a,this.value=b,this.color=c!=k?c:j,this.left=d!=k?d:Wa,this.right=e!=k?e:Wa}function ab(a){return a.left.f()?a:ab(a.left)}function eb(a){return a.left.f()?Wa:(!a.left.O()&&!a.left.left.O()&&(a=fb(a)),a=a.copy(k,k,k,eb(a.left),k),db(a))}function db(a){return a.right.O()&&!a.left.O()&&(a=ib(a)),a.left.O()&&a.left.left.O()&&(a=gb(a)),a.left.O()&&a.right.O()&&(a=hb(a)),a}function fb(a){return a=hb(a),a.right.left.O()&&(a=a.copy(k,k,k,k,gb(a.right)),a=ib(a),a=hb(a)),a}function ib(a){var b;return b=a.copy(k,k,j,k,a.right.left),a.right.copy(k,k,a.color,b,k)}function gb(a){var b;return b=a.copy(k,k,j,a.left.right,k),a.left.copy(k,k,a.color,k,b)}function hb(a){var b,c;return b=a.left.copy(k,k,!a.left.color,k,k),c=a.right.copy(k,k,!a.right.color,k,k),a.copy(k,k,!a.color,b,c)}function jb(){}function kb(a){this.Pb=a,this.bc="firebase:"}function lb(){this.ib={}}function mb(a){try{if("undefined"!=typeof window&&"undefined"!=typeof window[a]){var b=window[a];return b.setItem("firebase:sentinel","cache"),b.removeItem("firebase:sentinel"),new kb(b)}}catch(c){}return new lb}function pb(a,b,c,d){this.host=a.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.hc=b,this.Sb=c,this.fa=d||nb.get("host:"+a)||this.host}function qb(a,b){b!==a.fa&&(a.fa=b,"s-"===a.fa.substr(0,2)&&nb.set("host:"+a.host,a.fa))}function rb(){}function sb(){this.B=[],this.rc=[],this.ud=[],this.Zb=[],this.Zb[0]=128;for(var a=1;64>a;++a)this.Zb[a]=0;this.reset()}function tb(a,b){var c;c||(c=0);for(var d=a.ud,e=c;c+64>e;e+=4)d[e/4]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3];for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=4294967295&(f<<1|f>>>31)}c=a.B[0];for(var g,h=a.B[1],i=a.B[2],j=a.B[3],k=a.B[4],e=0;80>e;e++)40>e?20>e?(f=j^h&(i^j),g=1518500249):(f=h^i^j,g=1859775393):60>e?(f=h&i|j&(h|i),g=2400959708):(f=h^i^j,g=3395469782),f=(c<<5|c>>>27)+f+k+g+d[e]&4294967295,k=j,j=i,i=4294967295&(h<<30|h>>>2),h=c,c=f;a.B[0]=a.B[0]+c&4294967295,a.B[1]=a.B[1]+h&4294967295,a.B[2]=a.B[2]+i&4294967295,a.B[3]=a.B[3]+j&4294967295,a.B[4]=a.B[4]+k&4294967295}function Cb(){return ca.navigator?ca.navigator.userAgent:k}function Mb(a,b){if(ga(a)||g(Error("encodeByteArray takes an array as a parameter")),!Kb){Kb={},Lb={};for(var c=0;65>c;c++)Kb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),Lb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?Lb:Kb,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,i=h?a[e+1]:0,j=e+2<a.length,k=j?a[e+2]:0,l=f>>2,f=(3&f)<<4|i>>4,i=(15&i)<<2|k>>6,k=63&k;j||(k=64,h||(i=64)),d.push(c[l],c[f],c[i],c[k])}return d.join("")}function y(a,b){a||g(Error("Firebase INTERNAL ASSERT FAILED:"+b))}function Pb(a){var b=ta(a),a=new sb;a.update(b);var b=[],c=8*a.Vc;56>a.ob?a.update(a.Zb,56-a.ob):a.update(a.Zb,64-(a.ob-56));for(var d=63;d>=56;d--)a.rc[d]=255&c,c/=256;for(tb(a,a.rc),d=c=0;5>d;d++)for(var e=24;e>=0;e-=8)b[c++]=a.B[d]>>e&255;return Mb(b)}function Qb(){for(var a="",b=0;b<arguments.length;b++)a=ga(arguments[b])?a+Qb.apply(k,arguments[b]):"object"==typeof arguments[b]?a+w(arguments[b]):a+arguments[b],a+=" ";return a}function L(){if(Sb===j&&(Sb=l,Rb===k&&ob.get("logging_enabled")===j&&Tb(j)),Rb){var a=Qb.apply(k,arguments);Rb(a)}}function Ub(a){return function(){L(a,arguments)}}function Vb(){if("undefined"!=typeof console){var a="FIREBASE INTERNAL ERROR: "+Qb.apply(k,arguments);"undefined"!=typeof console.error?console.error(a):console.log(a)}}function Wb(){var a=Qb.apply(k,arguments);g(Error("FIREBASE FATAL ERROR: "+a))}function M(){if("undefined"!=typeof console){var a="FIREBASE WARNING: "+Qb.apply(k,arguments);"undefined"!=typeof console.warn?console.warn(a):console.log(a)}}function Da(a){return ha(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function Xb(a,b){return a!==b?a===k?-1:b===k?1:typeof a!=typeof b?"number"==typeof a?-1:1:a>b?1:-1:0}function Yb(a,b){if(a===b)return 0;var c=Zb(a),d=Zb(b);return c!==k?d!==k?c-d:-1:d!==k?1:b>a?-1:1}function $b(a,b){return b&&a in b?b[a]:void g(Error("Missing required key ("+a+") in object: "+w(b)))}function La(a){if("object"!=typeof a||a===k)return w(a);var b,c=[];for(b in a)c.push(b);c.sort(),b="{";for(var d=0;d<c.length;d++)0!==d&&(b+=","),b+=w(c[d]),b+=":",b+=La(a[c[d]]);return b+"}"}function ac(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)c.push(d+b>a?a.substring(d,a.length):a.substring(d,d+b));return c}function bc(a,b){if("array"==fa(a))for(var c=0;c<a.length;++c)b(c,a[c]);else cc(a,b)}function dc(a){y(!Da(a));var b,c,d,e;for(0===a?(d=c=0,b=-1/0===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074)))),e=[],a=52;a;a-=1)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;a-=1)e.push(c%2?1:0),c=Math.floor(c/2);for(e.push(b?1:0),e.reverse(),b=e.join(""),c="",a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&(d="0"+d),c+=d;return c.toLowerCase()}function Zb(a){return ec.test(a)&&(a=Number(a),a>=-2147483648&&2147483647>=a)?a:k}function fc(a){try{a()}catch(b){setTimeout(function(){g(b)})}}function gc(a,b){this.D=a,y(this.D!==k,"LeafNode shouldn't be created with null value."),this.Ya="undefined"!=typeof b?b:k}function ic(a,b){return Xb(a.ia,b.ia)||Yb(a.name,b.name)}function jc(a,b){return Yb(a.name,b.name)}function kc(a,b){return Yb(a,b)}function O(a,b){this.o=a||new Ua(kc),this.Ya="undefined"!=typeof b?b:k}function lc(a,b,c){O.call(this,a,c),b===k&&(b=new Ua(ic),a.Ca(function(a,c){b=b.oa({name:a,ia:c.j()},c)})),this.ua=b}function Q(a,b){if(a===k)return N;var c=k;if("object"==typeof a&&".priority"in a?c=a[".priority"]:"undefined"!=typeof b&&(c=b),y(c===k||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c),"object"==typeof a&&".value"in a&&a[".value"]!==k&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new gc(a,c);if(a instanceof Array){var d=N;return cc(a,function(b,c){if(C(a,c)&&"."!==c.substring(0,1)){var e=Q(b);(e.N()||!e.f())&&(d=d.H(c,e))}}),d.za(c)}var e=[],f={},g=l;bc(a,function(b,c){if("string"!=typeof c||"."!==c.substring(0,1)){var d=Q(a[c]);d.f()||(g=g||d.j()!==k,e.push({name:c,ia:d.j()}),f[c]=d)}});var h=nc(e,f,l);if(g){var i=nc(e,f,j);return new lc(h,i,c)}return new O(h,c)}function qc(a){this.count=parseInt(Math.log(a+1)/oc),this.$c=this.count-1,this.wd=a+1&parseInt(Array(this.count+1).join("1"),2)}function nc(a,b,c){function d(d,f){var g=m-d,j=m;m-=d;var l=a[g].name,g=new $a(c?a[g]:l,b[l],f,k,e(g+1,j));h?h.left=g:i=g,h=g}function e(d,f){var g=f-d;if(0==g)return k;if(1==g){var g=a[d].name,h=c?a[d]:g;return new $a(h,b[g],l,k,k)}var h=parseInt(g/2)+d,i=e(d,h),j=e(h+1,f),g=a[h].name,h=c?a[h]:g;return new $a(h,b[g],l,i,j)}var f=c?ic:jc;a.sort(f);var g,f=new qc(a.length),h=k,i=k,m=a.length;for(g=0;g<f.count;++g){var n=!(f.wd&1<<f.$c);f.$c--;var o=Math.pow(2,f.count-(g+1));n?d(o,l):(d(o,l),d(o,j))}return g=i,f=c?ic:kc,g!==k?new Ua(f,g):new Ua(f)}function hc(a){return"number"==typeof a?"number:"+dc(a):"string:"+a}function R(a,b){this.z=a,this.ec=b}function rc(a){y("array"==fa(a)&&0<a.length),this.vd=a,this.sb={}}function sc(a,b){var c,d=a.vd;a:{c=function(a){return a===b};for(var e=d.length,f=u(d)?d.split(""):d,g=0;e>g;g++)if(g in f&&c.call(aa,f[g])){c=g;break a}c=-1}y(0>c?k:u(d)?d.charAt(c):d[c],"Unknown event: "+b)}function tc(){rc.call(this,["visible"]);var a,b;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!=typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!=typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!=typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden")),this.gb=j,b){var c=this;document.addEventListener(b,function(){var b=!document[a];b!==c.gb&&(c.gb=b,c.Xc("visible",b))},l)}}function uc(a){this.Jc=a,this.ac=[],this.Qa=0,this.tc=-1,this.Ka=k}function cc(a,b){for(var c in a)b.call(aa,a[c],c,a)}function vc(a){var b,c={};for(b in a)c[b]=a[b];return c}function wc(){this.jb={}}function xc(a,b,c){s(c)||(c=1),C(a.jb,b)||(a.jb[b]=0),a.jb[b]+=c}function yc(a){this.xd=a,this.Qb=k}function zc(a,b){this.Sc={},this.kc=new yc(a),this.u=b,setTimeout(v(this.kd,this),10+6e4*Math.random())}function Cc(a){return a=a.toString(),Ac[a]||(Ac[a]=new wc),Ac[a]}function Dc(){this.set={}}function Ec(a,b){for(var c in a.set)C(a.set,c)&&b(c,a.set[c])}function Hc(a,b,c){this.uc=a,this.e=Ub(a),this.Xd=b,this.$=Cc(b),this.jc=c,this.kb=l,this.Lb=function(a){b.host!==b.fa&&(a.ns=b.Sb);var c,d=[];for(c in a)a.hasOwnProperty(c)&&d.push(c+"="+a[c]);return(b.hc?"https://":"http://")+b.fa+"/.lp?"+d.join("&")}}function Kc(a,b,c,d){if(this.Lb=d,this.ha=c,this.Lc=new Dc,this.Cb=[],this.vc=Math.floor(1e8*Math.random()),this.ic=j,this.mc=Nb(),window[Fc+this.mc]=a,window[Gc+this.mc]=b,a=document.createElement("iframe"),a.style.display="none",document.body){document.body.appendChild(a);try{a.contentWindow.document||L("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else g("Document body has not initialized. Wait to initialize Firebase until after the document is ready.");a.contentDocument?a.Aa=a.contentDocument:a.contentWindow?a.Aa=a.contentWindow.document:a.document&&(a.Aa=a.document),this.Y=a,a="",this.Y.src&&"javascript:"===this.Y.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";</script>'),a="<html><body>"+a+"</body></html>";try{this.Y.Aa.open(),this.Y.Aa.write(a),this.Y.Aa.close()}catch(f){L("frame writing exception"),f.stack&&L(f.stack),L(f)}}function Mc(a){if(a.pc&&a.ic&&a.Lc.count()<(0<a.Cb.length?2:1)){a.vc++;var b={};b.id=a.Gd,b.pw=a.Hd,b.ser=a.vc;for(var b=a.Lb(b),c="",d=0;0<a.Cb.length&&1870>=a.Cb[0].ad.length+30+c.length;){var e=a.Cb.shift(),c=c+"&seg"+d+"="+e.Qd+"&ts"+d+"="+e.Vd+"&d"+d+"="+e.ad;d++}var b=b+c,f=a.vc;a.Lc.add(f);var g=function(){a.Lc.remove(f),Mc(a)},h=setTimeout(g,25e3);return Lc(a,b,function(){clearTimeout(h),g()}),j}return l}function Lc(a,b,c){setTimeout(function(){try{if(a.ic){var d=a.Y.Aa.createElement("script");d.type="text/javascript",d.async=j,d.src=b,d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=k,d.parentNode&&d.parentNode.removeChild(d),c())},d.onerror=function(){L("Long-poll script failed to load: "+b),a.ic=l,a.close()},a.Y.Aa.body.appendChild(d)}}catch(e){}},1)}function S(a,b,c){this.uc=a,this.e=Ub(this.uc),this.frames=this.qb=k,this.Uc=0,this.$=Cc(b),this.Pa=(b.hc?"wss://":"ws://")+b.fa+"/.ws?v=5",b.host!==b.fa&&(this.Pa=this.Pa+"&ns="+b.Sb),c&&(this.Pa=this.Pa+"&s="+c)}function Rc(a,b){if(a.frames.push(b),a.frames.length==a.Uc){var c=a.frames.join("");a.frames=k,c=sa(c),a.Id(c)}}function Qc(a){clearInterval(a.qb),a.qb=setInterval(function(){a.W&&a.W.send("0"),Qc(a)},45e3)}function Pc(a){a.ba&&(clearTimeout(a.ba),a.ba=k)}function Sc(){var a=[];S&&S.isAvailable()&&!nb.get("previous_websocket_failure")?a.push(S):bc(Tc,function(b,c){c&&c.isAvailable()&&a.push(c)}),this.lc=a}function Uc(a,b,c,d,e,f){this.id=a,this.e=Ub("c:"+this.id+":"),this.Jc=c,this.xb=d,this.R=e,this.Ic=f,this.K=b,this.$b=[],this.Yc=0,this.Wc=new Sc,this.wa=0,this.e("Connection created"),Vc(this)
}function Vc(a){var b,c=a.Wc;0<c.lc.length?b=c.lc[0]:g(Error("No transports available")),a.L=new b("c:"+a.id+":"+a.Yc++,a.K);var d=Wc(a,a.L),e=Xc(a,a.L);a.Jb=a.L,a.Hb=a.L,a.A=k,setTimeout(function(){a.L&&a.L.open(d,e)},0)}function Xc(a,b){return function(c){b===a.L?(a.L=k,c||0!==a.wa?1===a.wa&&a.e("Realtime connection lost."):(a.e("Realtime connection failed."),"s-"===a.K.fa.substr(0,2)&&(nb.remove("host:"+a.K.host),a.K.fa=a.K.host)),a.close()):b===a.A?(c=a.A,a.A=k,(a.Jb===c||a.Hb===c)&&a.close()):a.e("closing an old connection")}}function Wc(a,b){return function(c){if(2!=a.wa)if(b===a.Hb){var d=$b("t",c),c=$b("d",c);if("c"==d){if(d=$b("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.jc=c.s,qb(a.K,f),0==a.wa&&(a.L.start(),c=a.L,a.e("Realtime connection established."),a.L=c,a.wa=1,a.xb&&(a.xb(d),a.xb=k),"5"!==e&&M("Protocol version mismatch detected"),c=1<a.Wc.lc.length?a.Wc.lc[1]:k)&&(a.A=new c("c:"+a.id+":"+a.Yc++,a.K,a.jc),a.A.open(Wc(a,a.A),Xc(a,a.A)))}else if("n"===d){for(a.e("recvd end transmission on primary"),a.Hb=a.A,c=0;c<a.$b.length;++c)a.Xb(a.$b[c]);a.$b=[],Yc(a)}else"s"===d?(a.e("Connection shutdown command received. Shutting down..."),a.Ic&&(a.Ic(c),a.Ic=k),a.R=k,a.close()):"r"===d?(a.e("Reset packet received.  New host: "+c),qb(a.K,c),1===a.wa?a.close():($c(a),Vc(a))):Vb("e"===d?"Server Error: "+c:"Unknown control packet command: "+d)}else"d"==d&&a.Xb(c)}else b===a.A?(d=$b("t",c),c=$b("d",c),"c"==d?"t"in c&&(c=c.t,"a"===c?(a.A.start(),a.e("sending client ack on secondary"),a.A.send({t:"c",d:{t:"a",d:{}}}),a.e("Ending transmission on primary"),a.L.send({t:"c",d:{t:"n",d:{}}}),a.Jb=a.A,Yc(a)):"r"===c&&(a.e("Got a reset on secondary, closing it"),a.A.close(),(a.Jb===a.A||a.Hb===a.A)&&a.close())):"d"==d?a.$b.push(c):g(Error("Unknown protocol layer: "+d))):a.e("message on old connection")}}function Yc(a){a.Jb===a.A&&a.Hb===a.A&&(a.e("cleaning up and promoting a connection: "+a.A.uc),a.L=a.A,a.A=k)}function $c(a){a.e("Shutting down all connections"),a.L&&(a.L.close(),a.L=k),a.A&&(a.A.close(),a.A=k)}function ad(){if(rc.call(this,["online"]),this.yb=j,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.yb||a.Xc("online",j),a.yb=j},l),window.addEventListener("offline",function(){a.yb&&a.Xc("online",l),a.yb=l},l)}}function bd(a,b,c,d,e,f){this.id=cd++,this.e=Ub("p:"+this.id+":"),this.Na=j,this.ga={},this.U=[],this.zb=0,this.wb=[],this.P=l,this.qa=1e3,this.Rb=3e5,this.Yb=b||da,this.Wb=c||da,this.vb=d||da,this.Kc=e||da,this.Bc=f||da,this.K=a,this.Oc=k,this.Gb={},this.Pd=0,this.rb=this.Fc=k,dd(this,0),tc.mb().Xa("visible",this.Kd,this),-1===a.host.indexOf("fblocal")&&ad.mb().Xa("online",this.Jd,this)}function fd(a,b,c,d,e){a.e("Listen on "+b+" for "+c);var f={p:b},d=wb(d,function(a){return Ka(a)});"{}"!==c&&(f.q=d),f.h=a.Bc(b),a.Ga("l",f,function(d){a.e("listen response",d),d=d.s,"ok"!==d&&gd(a,b,c),e&&e(d)})}function hd(a){var b=a.Ha;a.P&&b&&a.Ga("auth",{cred:b.yd},function(c){var d=c.s,c=c.d||"error";"ok"!==d&&a.Ha===b&&delete a.Ha,a.vb("ok"===d),b.bd?"ok"!==d&&b.Nb&&b.Nb(d,c):(b.bd=j,b.X&&b.X(d,c))})}function id(a,b,c,d){b=b.toString(),gd(a,b,c)&&a.P&&(a.e("Unlisten on "+b+" for "+c),b={p:b},d=wb(d,function(a){return Ka(a)}),"{}"!==c&&(b.q=d),a.Ga("u",b))}function jd(a,b,c,d){a.P?kd(a,"o",b,c,d):a.wb.push({Mc:b,action:"o",data:c,C:d})}function kd(a,b,c,d,e){c={p:c,d:d},a.e("onDisconnect "+b,c),a.Ga(b,c,function(a){e&&setTimeout(function(){e(a.s)},0)})}function ld(a,b,c,d,e,f){c={p:c,d:d},s(f)&&(c.h=f),a.U.push({action:b,ld:c,C:e}),a.zb++,b=a.U.length-1,a.P&&md(a,b)}function md(a,b){var c=a.U[b].action,d=a.U[b].ld,e=a.U[b].C;a.U[b].Md=a.P,a.Ga(c,d,function(d){a.e(c+" response",d),delete a.U[b],a.zb--,0===a.zb&&(a.U=[]),e&&e(d.s)})}function dd(a,b){y(!a.ja,"Scheduling a connect when we're already connected/ing?"),a.Sa&&clearTimeout(a.Sa),a.Sa=setTimeout(function(){if(a.Sa=k,a.Na){a.e("Making a connection attempt"),a.Fc=(new Date).getTime(),a.rb=k;var b=v(a.Xb,a),c=v(a.xb,a),d=v(a.gd,a),e=a.id+":"+ed++;a.ja=new Uc(e,a.K,b,c,d,function(b){M(b+" ("+a.K.toString()+")"),a.Na=l})}},b)}function gd(a,b,c){b=new J(b).toString(),c||(c="{}");var d=a.ga[b][c];return delete a.ga[b][c],d}function nd(){this.o=this.D=k}function od(a,b,c){if(b.f())a.D=c,a.o=k;else if(a.D!==k)a.D=a.D.ya(b,c);else{a.o==k&&(a.o=new Dc);var d=E(b);a.o.contains(d)||a.o.add(d,new nd),a=a.o.get(d),b=Ma(b),od(a,b,c)}}function pd(a,b){if(b.f())return a.D=k,a.o=k,j;if(a.D!==k){if(a.D.N())return l;var c=a.D;return a.D=k,c.w(function(b,c){od(a,new J(b),c)}),pd(a,b)}return a.o!==k?(c=E(b),b=Ma(b),a.o.contains(c)&&pd(a.o.get(c),b)&&a.o.remove(c),a.o.f()?(a.o=k,j):l):j}function qd(a,b,c){a.D!==k?c(b,a.D):a.w(function(a,d){var e=new J(b.toString()+"/"+a);qd(d,e,c)})}function rd(){this.ra=N}function T(a,b){return a.ra.Q(b)}function U(a,b,c){a.ra=a.ra.ya(b,c)}function sd(){this.sa=new rd,this.I=new rd,this.ma=new rd,this.Bb=new Pa}function td(a,b){for(var c=T(a.sa,b),d=T(a.I,b),e=K(a.Bb,b),f=l,g=e;g!==k;){if(g.k()!==k){f=j;break}g=g.parent()}return f?l:(c=ud(c,d,e),c!==d?(U(a.I,b,c),j):l)}function ud(a,b,c){return c.f()?a:c.k()!==k?b:(a=a||N,c.w(function(d){var d=d.name(),e=a.M(d),f=b.M(d),g=K(c,d),e=ud(e,f,g);a=a.H(d,e)}),a)}function vd(a,b){vb(b,function(b){var c=b.Rd,b=K(a.Bb,b.path),d=b.k();y(d!==k,"pendingPut should not be null."),d===c&&Qa(b,k)})}function wd(){this.Ta=[]}function xd(a,b){if(0!==b.length)for(var c=0;c<b.length;c++)a.Ta.push(b[c])}function yd(a){var b=a.X,c=a.pd,d=a.Db;fc(function(){b(c,d)})}function V(a,b,c,d){this.type=a,this.ta=b,this.aa=c,this.Db=d}function zd(a){this.J=a,this.na=[],this.xc=new wd}function Ad(a,b,c,d,e){a.na.push({type:b,X:c,cancel:d,T:e});var d=[],f=Bd(a.i);a.pb&&f.push(new V("value",a.i));for(var g=0;g<f.length;g++)if(f[g].type===b){var h=new H(a.J.n,a.J.path);f[g].aa&&(h=h.F(f[g].aa)),d.push({X:e?v(c,e):c,pd:new R(f[g].ta,h),Db:f[g].Db})}xd(a.xc,d)}function Cd(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=e.type,g=new H(a.J.n,a.J.path);for(b[d].aa&&(g=g.F(b[d].aa)),g=new R(b[d].ta,g),"value"!==e.type||g.nb()?"value"!==e.type&&(f+=" "+g.name()):f+="("+g.V()+")",L(a.J.n.u.id+": event:"+a.J.path+":"+a.J.La()+":"+f),f=0;f<a.na.length;f++){var h=a.na[f];b[d].type===h.type&&c.push({X:h.T?v(h.X,h.T):h.X,pd:g,Db:e.Db})}}xd(a.xc,c)}function Bd(a){var b=[];if(!a.N()){var c=k;a.w(function(a,d){b.push(new V("child_added",d,a,c)),c=a})}return b}function Ed(a){a.pb||(a.pb=j,Cd(a,[new V("value",a.i)]))}function Fd(a,b){zd.call(this,a),this.i=b}function Gd(a,b){this.Ob=a,this.Gc=b}function Hd(a,b,c,d,e){var f=a.Q(c),g=b.Q(c),d=new Gd(d,e),e=Id(d,c,f,g),g=!f.f()&&!g.f()&&f.j()!==g.j();if(e||g)for(f=c,c=e;f.parent()!==k;){var h=a.Q(f),e=b.Q(f),i=f.parent();if(!d.Ob||K(d.Ob,i).k()){var m=b.Q(i),n=[],f=f.Z<f.m.length?f.m[f.m.length-1]:k;h.f()?(h=m.ea(f,e),n.push(new V("child_added",e,f,h))):e.f()?n.push(new V("child_removed",h,f)):(h=m.ea(f,e),g&&n.push(new V("child_moved",e,f,h)),c&&n.push(new V("child_changed",e,f,h))),d.Gc(i,m,n)}g&&(g=l,c=j),f=i}}function Id(a,b,c,d){var e,f=[];return c===d?e=l:c.N()&&d.N()?e=c.k()!==d.k():c.N()?(Jd(a,b,N,d,f),e=j):d.N()?(Jd(a,b,c,N,f),e=j):e=Jd(a,b,c,d,f),e?a.Gc(b,d,f):c.j()!==d.j()&&a.Gc(b,d,k),e}function Jd(a,b,c,d,e){var f,g,h,i,m=l,n=!a.Ob||!K(a.Ob,b).f(),o=[],p=[],q=[],r=[],t={},u={};for(f=c.Ua(),h=Za(f),g=d.Ua(),i=Za(g);h!==k||i!==k;)if(c=h===k?1:i===k?-1:h.key===i.key?0:ic({name:h.key,ia:h.value.j()},{name:i.key,ia:i.value.j()}),0>c?(m=wa(t,h.key),s(m)?(q.push({zc:h,Tc:o[m]}),o[m]=k):(u[h.key]=p.length,p.push(h)),m=j,h=Za(f)):(c>0?(m=wa(u,i.key),s(m)?(q.push({zc:p[m],Tc:i}),p[m]=k):(t[i.key]=o.length,o.push(i)),m=j):(c=b.F(i.key),(c=Id(a,c,h.value,i.value))&&(r.push(i),m=j),h.value.j()!==i.value.j()&&(q.push({zc:h,Tc:i}),m=j),h=Za(f)),i=Za(g)),!n&&m)return j;for(n=0;n<p.length;n++)(t=p[n])&&(c=b.F(t.key),Id(a,c,t.value,N),e.push(new V("child_removed",t.value,t.key)));for(n=0;n<o.length;n++)(t=o[n])&&(c=b.F(t.key),p=d.ea(t.key,t.value),Id(a,c,N,t.value),e.push(new V("child_added",t.value,t.key,p)));for(n=0;n<q.length;n++)t=q[n].zc,o=q[n].Tc,c=b.F(o.key),p=d.ea(o.key,o.value),e.push(new V("child_moved",o.value,o.key,p)),(c=Id(a,c,t.value,o.value))&&r.push(o);for(n=0;n<r.length;n++)a=r[n],p=d.ea(a.key,a.value),e.push(new V("child_changed",a.value,a.key,p));return m}function Kd(){this.S=this.xa=k,this.set={}}function Ld(a){return a.contains("default")}function Md(a){return a.xa!=k&&Ld(a)}function Nd(a,b){zd.call(this,a),this.i=N,this.dc(b,Bd(b))}function Od(a,b,c,d){if(a.N())return k;var e=k;return(d?a.yc:a.w).call(a,function(a,d){return Pd(b,a,d)&&(e=a,c--,0===c)?j:void 0}),e}function Pd(a,b,c){for(var d=0;d<a.length;d++)if(!a[d](b,c.j()))return l;return j}function Qd(a,b){this.u=a,this.g=b,this.Vb=b.ra,this.la=new Pa}function Td(a,b,c,d,e){var f,g=a.get(b);if(f=g){f=l;for(var h=g.na.length-1;h>=0;h--){var i=g.na[h];if(!(c&&i.type!==c||d&&i.X!==d||e&&i.T!==e)&&(g.na.splice(h,1),f=j,c&&d))break}f=f&&!(0<g.na.length)}return(c=f)&&a.remove(b),c}function Ud(a,b,c,d,e,f){var g=b.path(),g=K(a.la,g),c=c?c.La():k,h=[];if(c&&"default"!==c?Td(b,c,d,e,f)&&h.push(c):vb(b.keys(),function(a){Td(b,a,d,e,f)&&h.push(a)}),b.f()&&Qa(g,k),c=Rd(g),0<h.length&&!c){for(var i=g,m=g.parent(),c=l;!c&&m;){var n=m.k();if(n){y(!Md(n));var o=i.name(),p=l;Ec(n,function(a,b){p=b.Cc(o)||p}),p&&(c=j)}i=m,m=m.parent()}if(i=k,!Md(b)){m=b.xa,b.xa=k;var q=[],r=function(b){var c=b.k();if(c&&Ld(c))q.push(c.path()),c.xa==k&&c.setActive(Sd(a,c));else{if(c){c.xa!=k||c.setActive(Sd(a,c));var d={};Ec(c,function(a,b){b.i.w(function(a){C(d,a)||(d[a]=j,a=c.path().F(a),q.push(a))})})}b.w(r)}};r(g),i=q,m&&m()}return c?k:i}return k}function Vd(a,b,c){Sa(K(a.la,b),function(a){(a=a.k())&&Ec(a,function(a,b){Ed(b)})},c,j)}function W(a,b,c){function d(a){do{if(g[a.toString()])return j;a=a.parent()}while(a!==k);return l}var e=a.Vb,f=a.g.ra;a.Vb=f;for(var g={},h=0;h<c.length;h++)g[c[h].toString()]=j;Hd(e,f,b,a.la,function(c,e,f){if(b.contains(c)){var g=d(c);g&&Vd(a,c,l),a.cc(c,e,f),g&&Vd(a,c,j)}else a.cc(c,e,f)}),d(b)&&Vd(a,b,j),Wd(a,b)}function Wd(a,b){var c=K(a.la,b);Sa(c,function(a){(a=a.k())&&Ec(a,function(a,b){b.Eb()})},j,j),Ta(c,function(a){(a=a.k())&&Ec(a,function(a,b){b.Eb()})},l)}function Rd(a){return Ta(a,function(a){return a.k()&&Md(a.k())})}function Sd(a,b){if(a.u){var c,d=a.u,e=b.path(),f=b.toString(),g=b.Za(),h=b.keys(),i=Ld(b),k=a.u,l=function(d){if("ok"!==d){var e="Unknown Error";"too_big"===d?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==d?e="Client doesn't have permission to access the desired data.":"unavailable"==d&&(e="The service is unavailable");var f=Error(d+": "+e);f.code=d.toUpperCase(),M("on() or once() for "+b.path().toString()+" failed: "+f.toString()),b&&(Ec(b,function(a,b){for(var c=0;c<b.na.length;c++){var d=b.na[c];d.cancel&&(d.T?v(d.cancel,d.T):d.cancel)(f)}}),Ud(a,b))}else c||(i?Vd(a,b.path(),j):vb(h,function(a){(a=b.get(a))&&Ed(a)}),Wd(a,b.path()))},m=b.toString(),n=b.path().toString();return k.ga[n]=k.ga[n]||{},y(!k.ga[n][m],"listen() called twice for same path/queryId."),k.ga[n][m]={Za:b.Za(),C:l},k.P&&fd(k,n,m,b.Za(),l),function(){c=j,id(d,e,f,g)}}return da}function Xd(a,b,c,d,e){var f=b.path(),b=a.lb(f,b,d,e),g=N,h=[];return cc(b,function(b,i){var j=new J(i);3===b||1===b?g=g.H(i,d.Q(j)):(2===b&&h.push({path:f.F(i),pa:N}),h=h.concat(Yd(a,d.Q(j),K(c,j),e)))}),[{path:f,pa:g}].concat(h)}function Zd(a,b,c,d){var e;a:{var f=K(a.la,b);e=f.parent();for(var g=[];e!==k;){var h=e.k();if(h!==k){if(Ld(h)){e=[{path:b,pa:c}];break a}if(h=a.lb(b,h,c,d),f=wa(h,f.name()),3===f||1===f){e=[{path:b,pa:c}];break a}2===f&&g.push({path:b,pa:N})}f=e,e=e.parent()}e=g}return 1!=e.length||e[0].pa.f()&&!c.f()?(g=K(a.la,b),f=g.k(),f!==k?Ld(f)?e.push({path:b,pa:c}):e=e.concat(Xd(a,f,g,c,d)):e=e.concat(Yd(a,c,g,d)),e):e}function Yd(a,b,c,d){var e=c.k();if(e!==k)return Ld(e)?[{path:c.path(),pa:b}]:Xd(a,e,c,b,d);var f=[];return c.w(function(c){var e=b.N()?N:b.M(c.name()),c=Yd(a,e,c,d);f=f.concat(c)}),f}function $d(a,b){return a&&"object"==typeof a?(y(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function ae(a,b){var c,d=$d(a.j(),b);if(a.N()){var e=$d(a.k(),b);return e!==a.k()||d!==a.j()?new gc(e,d):a}return c=a,d!==a.j()&&(c=c.za(d)),a.w(function(a,d){var e=ae(d,b);e!==d&&(c=c.H(a,e))}),c}function be(a){this.K=a,this.$=Cc(a),this.u=new bd(this.K,v(this.Yb,this),v(this.Wb,this),v(this.vb,this),v(this.Kc,this),v(this.Bc,this));var b=v(function(){return new zc(this.$,this.u)},this),a=a.toString();Bc[a]||(Bc[a]=b()),this.qd=Bc[a],this.eb=new Pa,this.fb=new rd,this.g=new sd,this.G=new Qd(this.u,this.g.ma),this.Dc=new rd,this.Ec=new Qd(k,this.Dc),ce(this,"connected",l),ce(this,"authenticated",l),this.R=new nd,this.wc=0}function de(a){return a=T(a.Dc,new J(".info/serverTimeOffset")).V()||0,(new Date).getTime()+a}function ee(a){return a=a={timestamp:de(a)},a.timestamp=a.timestamp||(new Date).getTime(),a}function ce(a,b,c){b=new J("/.info/"+b),U(a.Dc,b,Q(c)),W(a.Ec,b,[b])}function he(a,b,c,d){var e=Q(c);jd(a.u,b.toString(),e.V(j),function(c){"ok"===c&&od(a.R,b,e),X(d,c)})}function ie(a){xc(a.$,"deprecated_on_disconnect"),a.qd.Sc.deprecated_on_disconnect=j}function X(a,b,c){a&&fc(function(){if("ok"==b)a(k,c);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c),e=Error(e),e.code=d,a(e)}})}function je(a,b){var c=b||a.eb;if(b||ke(a,c),c.k()!==k){var d=le(a,c);if(y(0<d.length),xb(d,function(a){return 1===a.status})){for(var e=c.path(),f=0;f<d.length;f++)y(1===d[f].status,"tryToSendTransactionQueue_: items in queue should all be run."),d[f].status=2,d[f].nd++;c=T(a.g.I,e).hash(),U(a.g.I,e,T(a.g.ma,e));for(var g=T(a.fb,e).V(j),h=Nb(),i={},l=0;l<d.length;l++)d[l].qc&&(i[d[l].path.toString()]=d[l].path);var m,n=[];for(m in i)n.push(i[m]);for(f=0;f<n.length;f++)Qa(K(a.g.Bb,n[f]),h);a.u.put(e.toString(),g,function(b){for(a.e("transaction put response",{path:e.toString(),status:b}),f=0;f<n.length;f++){var c=K(a.g.Bb,n[f]),g=c.k();y(g!==k,"sendTransactionQueue_: pendingPut should not be null."),g===h&&(Qa(c,k),U(a.g.I,n[f],T(a.g.sa,n[f])))}if("ok"===b){for(b=[],f=0;f<d.length;f++)d[f].status=3,d[f].C&&(c=me(a,d[f].path),b.push(v(d[f].C,k,k,j,c))),d[f].nc();for(ke(a,K(a.eb,e)),je(a),f=0;f<b.length;f++)fc(b[f])}else{if("datastale"===b)for(f=0;f<d.length;f++)d[f].status=4===d[f].status?5:1;else for(M("transaction at "+e+" failed: "+b),f=0;f<d.length;f++)d[f].status=5,d[f].oc=b;b=fe(a,e),W(a.G,b,[e])}},c)}}else c.nb()&&c.w(function(b){je(a,b)})}function fe(a,b){var c=ne(a,b),d=c.path(),e=le(a,c);if(U(a.g.ma,d,T(a.g.I,d)),U(a.fb,d,T(a.g.I,d)),0!==e.length){for(var f=c=T(a.g.ma,d),g=[],h=0;h<e.length;h++){var i,m=Na(d,e[h].path),n=l;if(y(m!==k,"rerunTransactionsUnderNode_: relativePath should not be null."),5===e[h].status)n=j,i=e[h].oc;else if(1===e[h].status)if(25<=e[h].nd)n=j,i="maxretry";else{var o=e[h].update(c.Q(m).V());s(o)?(Ba("transaction failed: Data returned ",o),o=Q(o),c=c.ya(m,o),e[h].qc&&(f=f.ya(m,o))):(n=j,i="nodata")}n&&(e[h].status=3,setTimeout(e[h].nc,0),e[h].C&&(n=new H(a,e[h].path),m=new R(c.Q(m),n),g.push("nodata"===i?v(e[h].C,k,k,l,m):v(e[h].C,k,Error(i),l,m))))}for(i=T(a.g.I,d).j(),c=c.za(i),f=f.za(i),U(a.fb,d,c),U(a.g.ma,d,f),ke(a,a.eb),h=0;h<g.length;h++)fc(g[h]);je(a)}return d}function ne(a,b){for(var c,d=a.eb;(c=E(b))!==k&&d.k()===k;)d=K(d,c),b=Ma(b);return d}function le(a,b){var c=[];return oe(a,b,c),c.sort(function(a,b){return a.hd-b.hd}),c}function oe(a,b,c){var d=b.k();if(d!==k)for(var e=0;e<d.length;e++)c.push(d[e]);b.w(function(b){oe(a,b,c)})}function ke(a,b){var c=b.k();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d,Qa(b,0<c.length?c:k)}b.w(function(b){ke(a,b)})}function ge(a,b){var c=ne(a,b).path(),d=K(a.eb,b);return Ta(d,function(a){pe(a)}),pe(d),Sa(d,function(a){pe(a)}),c}function pe(a){var b=a.k();if(b!==k){for(var c=[],d=-1,e=0;e<b.length;e++)4!==b[e].status&&(2===b[e].status?(y(d===e-1,"All SENT items should be at beginning of queue."),d=e,b[e].status=4,b[e].oc="set"):(y(1===b[e].status),b[e].nc(),b[e].C&&c.push(v(b[e].C,k,Error("set"),l,k))));for(-1===d?Qa(a,k):b.length=d+1,e=0;e<c.length;e++)fc(c[e])}}function me(a,b){var c=new H(a,b);return new R(T(a.fb,b),c)}function Y(){this.$a={}}function $(a,b,c){this.Fb=a,this.S=b,this.Ea=c}function H(){var a,b,c;if(arguments[0]instanceof be)c=arguments[0],a=arguments[1];else{z("new Firebase",1,2,arguments.length);var d=arguments[0];b=a="";var e=j,f="";if(u(d)){var h=d.indexOf("//");if(h>=0)var i=d.substring(0,h-1),d=d.substring(h+2);h=d.indexOf("/"),-1===h&&(h=d.length),a=d.substring(0,h);var d=d.substring(h+1),m=a.split(".");if(3==m.length){if(h=m[2].indexOf(":"),e=h>=0?"https"===i:j,"firebase"===m[1])Wb(a+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");else for(b=m[0],f="",d=("/"+d).split("/"),i=0;i<d.length;i++)if(0<d[i].length){h=d[i];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch(n){}f+="/"+h}b=b.toLowerCase()}else b=k}e||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&M("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),a=new pb(a,e,b),b=new J(f),e=b.toString(),(d=!u(a.host))||(d=0===a.host.length)||(d=!za(a.Sb))||(d=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),d=!(u(e)&&0!==e.length&&!ya.test(e))),d&&g(Error(A("new Firebase",1,l)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')),arguments[1]?arguments[1]instanceof Y?c=arguments[1]:g(Error("Expected a valid Firebase.Context for second argument to new Firebase()")):c=Y.mb(),e=a.toString(),d=wa(c.$a,e),d||(d=new be(a),c.$a[e]=d),c=d,a=b}F.call(this,c,a)}function Tb(a,b){y(!b||a===j||a===l,"Can't turn on custom loggers persistently."),a===j?("undefined"!=typeof console&&("function"==typeof console.log?Rb=v(console.log,console):"object"==typeof console.log&&(Rb=function(a){console.log(a)})),b&&ob.set("logging_enabled",j)):a?Rb=a:(Rb=k,ob.remove("logging_enabled"))}var aa=void 0,j=!0,k=null,l=!1,r,ca=this;Math.floor(2147483648*Math.random()).toString(36);var qa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},ra=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,ua={},xa=/[\[\].#$\/]/,ya=/[\[\].#$]/;F.prototype.Nc=function(){return z("Query.ref",0,0,arguments.length),new H(this.n,this.path)},F.prototype.ref=F.prototype.Nc,F.prototype.Xa=function(a,b){z("Query.on",2,4,arguments.length),Ga("Query.on",a,l),B("Query.on",2,b,l);var c=Ja("Query.on",arguments[2],arguments[3]);return this.n.Mb(this,a,b,c.cancel,c.T),b},F.prototype.on=F.prototype.Xa,F.prototype.ub=function(a,b,c){z("Query.off",0,3,arguments.length),Ga("Query.off",a,j),B("Query.off",2,b,j),va("Query.off",3,c),this.n.fc(this,a,b,c)},F.prototype.off=F.prototype.ub,F.prototype.Ld=function(a,b){function c(g){f&&(f=l,e.ub(a,c),b.call(d.T,g))}z("Query.once",2,4,arguments.length),Ga("Query.once",a,l),B("Query.once",2,b,l);var d=Ja("Query.once",arguments[2],arguments[3]),e=this,f=j;this.Xa(a,c,function(b){e.ub(a,c),d.cancel&&d.cancel.call(d.T,b)})},F.prototype.once=F.prototype.Ld,F.prototype.Ed=function(a){return z("Query.limit",1,1,arguments.length),(!ha(a)||Math.floor(a)!==a||0>=a)&&g("Query.limit: First argument must be a positive integer."),new F(this.n,this.path,a,this.da,this.va,this.Ba,this.Ra)},F.prototype.limit=F.prototype.Ed,F.prototype.Ud=function(a,b){return z("Query.startAt",0,2,arguments.length),Fa("Query.startAt",1,a,j),Ha("Query.startAt",b),s(a)||(b=a=k),new F(this.n,this.path,this.Da,a,b,this.Ba,this.Ra)},F.prototype.startAt=F.prototype.Ud,F.prototype.zd=function(a,b){return z("Query.endAt",0,2,arguments.length),Fa("Query.endAt",1,a,j),Ha("Query.endAt",b),new F(this.n,this.path,this.Da,this.da,this.va,a,b)},F.prototype.endAt=F.prototype.zd,F.prototype.La=function(){var a=La(Ka(this));return"{}"===a?"default":a},r=J.prototype,r.toString=function(){for(var a="",b=this.Z;b<this.m.length;b++)""!==this.m[b]&&(a+="/"+this.m[b]);return a||"/"},r.parent=function(){if(this.Z>=this.m.length)return k;for(var a=[],b=this.Z;b<this.m.length-1;b++)a.push(this.m[b]);return new J(a,0)},r.F=function(a){for(var b=[],c=this.Z;c<this.m.length;c++)b.push(this.m[c]);if(a instanceof J)for(c=a.Z;c<a.m.length;c++)b.push(a.m[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new J(b,0)},r.f=function(){return this.Z>=this.m.length},r.contains=function(a){var b=0;if(this.m.length>a.m.length)return l;for(;b<this.m.length;){if(this.m[b]!==a.m[b])return l;++b}return j},r=Pa.prototype,r.k=function(){return this.z.value},r.nb=function(){return 0<this.z.sc},r.f=function(){return this.k()===k&&!this.nb()},r.w=function(a){for(var b in this.z.children)a(new Pa(b,this,this.z.children[b]))},r.path=function(){return new J(this.Ab===k?this.Ea:this.Ab.path()+"/"+this.Ea)},r.name=ba("Ea"),r.parent=ba("Ab"),r=Ua.prototype,r.oa=function(a,b){return new Ua(this.Oa,this.ca.oa(a,b,this.Oa).copy(k,k,l,k,k))},r.remove=function(a){return new Ua(this.Oa,this.ca.remove(a,this.Oa).copy(k,k,l,k,k))},r.get=function(a){for(var b,c=this.ca;!c.f();){if(b=this.Oa(a,c.key),0===b)return c.value;0>b?c=c.left:b>0&&(c=c.right)}return k},r.f=function(){return this.ca.f()},r.count=function(){return this.ca.count()},r.tb=function(){return this.ca.tb()},r.Va=function(){return this.ca.Va()},r.Ca=function(a){return this.ca.Ca(a)},r.Ma=function(a){return this.ca.Ma(a)},r.Ua=function(a){return new Ya(this.ca,a)},r=$a.prototype,r.copy=function(a,b,c,d,e){return new $a(a!=k?a:this.key,b!=k?b:this.value,c!=k?c:this.color,d!=k?d:this.left,e!=k?e:this.right)},r.count=function(){return this.left.count()+1+this.right.count()},r.f=o(l),r.Ca=function(a){return this.left.Ca(a)||a(this.key,this.value)||this.right.Ca(a)},r.Ma=function(a){return this.right.Ma(a)||a(this.key,this.value)||this.left.Ma(a)},r.tb=function(){return ab(this).key},r.Va=function(){return this.right.f()?this.key:this.right.Va()},r.oa=function(a,b,c){var d,e;return e=this,d=c(a,e.key),e=0>d?e.copy(k,k,k,e.left.oa(a,b,c),k):0===d?e.copy(k,b,k,k,k):e.copy(k,k,k,k,e.right.oa(a,b,c)),db(e)},r.remove=function(a,b){var c,d;if(c=this,0>b(a,c.key))!c.left.f()&&!c.left.O()&&!c.left.left.O()&&(c=fb(c)),c=c.copy(k,k,k,c.left.remove(a,b),k);else{if(c.left.O()&&(c=gb(c)),!c.right.f()&&!c.right.O()&&!c.right.left.O()&&(c=hb(c),c.left.left.O()&&(c=gb(c),c=hb(c))),0===b(a,c.key)){if(c.right.f())return Wa;d=ab(c.right),c=c.copy(d.key,d.value,k,k,eb(c.right))}c=c.copy(k,k,k,k,c.right.remove(a,b))}return db(c)},r.O=ba("color"),r=jb.prototype,r.copy=function(){return this},r.oa=function(a,b){return new $a(a,b,aa,aa,aa)},r.remove=function(){return this},r.count=o(0),r.f=o(j),r.Ca=o(l),r.Ma=o(l),r.tb=o(k),r.Va=o(k),r.O=o(l);var Wa=new jb;kb.prototype.set=function(a,b){b==k?this.Pb.removeItem(this.bc+a):this.Pb.setItem(this.bc+a,w(b))},kb.prototype.get=function(a){return a=this.Pb.getItem(this.bc+a),a==k?k:sa(a)},kb.prototype.remove=function(a){this.Pb.removeItem(this.bc+a)},lb.prototype.set=function(a,b){b==k?delete this.ib[a]:this.ib[a]=b},lb.prototype.get=function(a){return C(this.ib,a)?this.ib[a]:k},lb.prototype.remove=function(a){delete this.ib[a]};var nb=mb("localStorage"),ob=mb("sessionStorage");pb.prototype.toString=function(){return(this.hc?"https://":"http://")+this.host},la(sb,rb),sb.prototype.reset=function(){this.B[0]=1732584193,this.B[1]=4023233417,this.B[2]=2562383102,this.B[3]=271733878,this.B[4]=3285377520,this.Vc=this.ob=0},sb.prototype.update=function(a,b){s(b)||(b=a.length);var c=this.rc,d=this.ob,e=0;if(u(a))for(;b>e;)c[d++]=a.charCodeAt(e++),64==d&&(tb(this,c),d=0);else for(;b>e;)c[d++]=a[e++],64==d&&(tb(this,c),d=0);this.ob=d,this.Vc+=b};var ub=Array.prototype,vb=ub.forEach?function(a,b,c){ub.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;d>f;f++)f in e&&b.call(c,e[f],f,a)},wb=ub.map?function(a,b,c){return ub.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=u(a)?a.split(""):a,g=0;d>g;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},xb=ub.every?function(a,b,c){return ub.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;d>f;f++)if(f in e&&!b.call(c,e[f],f,a))return l;return j},yb,zb,Ab,Bb;Bb=Ab=zb=yb=l;var Db;if(Db=Cb()){var Eb=ca.navigator;yb=0==Db.indexOf("Opera"),zb=!yb&&-1!=Db.indexOf("MSIE"),Ab=!yb&&-1!=Db.indexOf("WebKit"),Bb=!yb&&!Ab&&"Gecko"==Eb.product}var Fb=zb,Gb=Bb,Hb=Ab,Ib;if(yb&&ca.opera){var Jb=ca.opera.version;"function"==typeof Jb&&Jb()}else Gb?Ib=/rv\:([^\);]+)(\)|;)/:Fb?Ib=/MSIE\s+([^\);]+)(\)|;)/:Hb&&(Ib=/WebKit\/(\S+)/),Ib&&Ib.exec(Cb());var Kb=k,Lb=k,Nb,Ob=1;Nb=function(){return Ob++};var Rb=k,Sb=j,ec=/^-?\d{1,10}$/;r=gc.prototype,r.N=o(j),r.j=ba("Ya"),r.za=function(a){return new gc(this.D,a)},r.M=function(){return N},r.Q=function(a){return E(a)===k?this:N},r.ea=o(k),r.H=function(a,b){return(new O).H(a,b).za(this.Ya)},r.ya=function(a,b){var c=E(a);return c===k?b:this.H(c,N.ya(Ma(a),b))},r.f=o(l),r.Ub=o(0),r.V=function(a){return a&&this.j()!==k?{".value":this.k(),".priority":this.j()}:this.k()},r.hash=function(){var a="";this.j()!==k&&(a+="priority:"+hc(this.j())+":");var b=typeof this.D,a=a+(b+":"),a="number"===b?a+dc(this.D):a+this.D;return Pb(a)},r.k=ba("D"),r.toString=function(){return"string"==typeof this.D?'"'+this.D+'"':this.D},r=O.prototype,r.N=o(l),r.j=ba("Ya"),r.za=function(a){return new O(this.o,a)},r.H=function(a,b){var c=this.o.remove(a);return b&&b.f()&&(b=k),b!==k&&(c=c.oa(a,b)),b&&b.j()!==k?new lc(c,k,this.Ya):new O(c,this.Ya)},r.ya=function(a,b){var c=E(a);if(c===k)return b;var d=this.M(c).ya(Ma(a),b);return this.H(c,d)},r.f=function(){return this.o.f()},r.Ub=function(){return this.o.count()};var mc=/^\d+$/;r=O.prototype,r.V=function(a){if(this.f())return k;var b={},c=0,d=0,e=j;if(this.w(function(f,g){b[f]=g.V(a),c++,e&&mc.test(f)?d=Math.max(d,Number(f)):e=l}),!a&&e&&2*c>d){var f,g=[];for(f in b)g[f]=b[f];return g}return a&&this.j()!==k&&(b[".priority"]=this.j()),b},r.hash=function(){var a="";return this.j()!==k&&(a+="priority:"+hc(this.j())+":"),this.w(function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)}),""===a?"":Pb(a)},r.M=function(a){return a=this.o.get(a),a===k?N:a},r.Q=function(a){var b=E(a);return b===k?this:this.M(b).Q(Ma(a))},r.ea=function(a){return Xa(this.o,a)},r.cd=function(){return this.o.tb()},r.dd=function(){return this.o.Va()},r.w=function(a){return this.o.Ca(a)},r.yc=function(a){return this.o.Ma(a)},r.Ua=function(){return this.o.Ua()},r.toString=function(){var a="{",b=j;return this.w(function(c,d){b?b=l:a+=", ",a+='"'+c+'" : '+d.toString()}),a+="}"};var N=new O;la(lc,O),r=lc.prototype,r.H=function(a,b){var c=this.M(a),d=this.o,e=this.ua;return c!==k&&(d=d.remove(a),e=e.remove({name:a,ia:c.j()})),b&&b.f()&&(b=k),b!==k&&(d=d.oa(a,b),e=e.oa({name:a,ia:b.j()},b)),new lc(d,e,this.j())},r.ea=function(a,b){var c=Xa(this.ua,{name:a,ia:b.j()});return c?c.name:k},r.w=function(a){return this.ua.Ca(function(b,c){return a(b.name,c)})},r.yc=function(a){return this.ua.Ma(function(b,c){return a(b.name,c)})},r.Ua=function(){return this.ua.Ua(function(a,b){return{key:a.name,value:b}})},r.cd=function(){return this.ua.f()?k:this.ua.tb().name},r.dd=function(){return this.ua.f()?k:this.ua.Va().name};var oc=Math.log(2);R.prototype.V=function(){return z("Firebase.DataSnapshot.val",0,0,arguments.length),this.z.V()},R.prototype.val=R.prototype.V,R.prototype.Ad=function(){return z("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.z.V(j)},R.prototype.exportVal=R.prototype.Ad,R.prototype.F=function(a){z("Firebase.DataSnapshot.child",0,1,arguments.length),ha(a)&&(a=String(a)),Ia("Firebase.DataSnapshot.child",a);var b=new J(a),c=this.ec.F(b);return new R(this.z.Q(b),c)},R.prototype.child=R.prototype.F,R.prototype.Cc=function(a){z("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Ia("Firebase.DataSnapshot.hasChild",a);var b=new J(a);return!this.z.Q(b).f()},R.prototype.hasChild=R.prototype.Cc,R.prototype.j=function(){return z("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.z.j()},R.prototype.getPriority=R.prototype.j,R.prototype.forEach=function(a){if(z("Firebase.DataSnapshot.forEach",1,1,arguments.length),B("Firebase.DataSnapshot.forEach",1,a,l),this.z.N())return l;var b=this;return this.z.w(function(c,d){return a(new R(d,b.ec.F(c)))})},R.prototype.forEach=R.prototype.forEach,R.prototype.nb=function(){return z("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.z.N()?l:!this.z.f()},R.prototype.hasChildren=R.prototype.nb,R.prototype.name=function(){return z("Firebase.DataSnapshot.name",0,0,arguments.length),this.ec.name()},R.prototype.name=R.prototype.name,R.prototype.Ub=function(){return z("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.z.Ub()},R.prototype.numChildren=R.prototype.Ub,R.prototype.Nc=function(){return z("Firebase.DataSnapshot.ref",0,0,arguments.length),this.ec},R.prototype.ref=R.prototype.Nc,rc.prototype.Ac=function(){},rc.prototype.Xc=function(a){for(var b=this.sb[a]||[],c=0;c<b.length;c++)b[c].X.apply(b[c].T,Array.prototype.slice.call(arguments,1))},rc.prototype.Xa=function(a,b,c){sc(this,a),this.sb[a]=this.sb[a]||[],this.sb[a].push({X:b,T:c}),(a=this.Ac(a))&&b.apply(c,a)},rc.prototype.ub=function(a,b,c){sc(this,a);for(var a=this.sb[a]||[],d=0;d<a.length;d++)if(a[d].X===b&&(!c||c===a[d].T)){a.splice(d,1);break}},la(tc,rc),ea(tc),tc.prototype.Ac=function(a){return y("visible"===a),[this.gb]},wc.prototype.get=function(){return vc(this.jb)},yc.prototype.get=function(){var a=this.xd.get(),b=vc(a);if(this.Qb)for(var c in this.Qb)b[c]-=this.Qb[c];return this.Qb=a,b},zc.prototype.kd=function(){var a,b=this.kc.get(),c={},d=l;for(a in b)0<b[a]&&C(this.Sc,a)&&(c[a]=b[a],d=j);d&&(b=this.u,b.P&&(c={c:c},b.e("reportStats",c),b.Ga("s",c))),setTimeout(v(this.kd,this),6e5*Math.random())};var Ac={},Bc={};r=Dc.prototype,r.add=function(a,b){this.set[a]=b!==k?b:j},r.contains=function(a){return C(this.set,a)},r.get=function(a){return this.contains(a)?this.set[a]:aa},r.remove=function(a){delete this.set[a]},r.f=function(){var a;a:{for(a in this.set){a=l;break a}a=j}return a},r.count=function(){var a,b=0;for(a in this.set)b++;return b},r.keys=function(){var a,b=[];for(a in this.set)C(this.set,a)&&b.push(a);return b};var Fc="pLPCommand",Gc="pRTLPCB",Ic,Jc;Hc.prototype.open=function(a,b){function c(){if(!d.Ja){d.ka=new Kc(function(a,b,c){if(xc(d.$,"bytes_received",w(arguments).length),d.ka)if(d.ba&&(clearTimeout(d.ba),d.ba=k),d.kb=j,"start"==a)d.id=b,d.jd=c;else if("close"===a)if(b){d.ka.ic=l;var e=d.fd;e.tc=b,e.Ka=function(){d.Fa()},e.tc<e.Qa&&(e.Ka(),e.Ka=k)}else d.Fa();else g(Error("Unrecognized command received: "+a))},function(a,b){xc(d.$,"bytes_received",w(arguments).length);var c=d.fd;for(c.ac[a]=b;c.ac[c.Qa];){var e=c.ac[c.Qa];delete c.ac[c.Qa];for(var f=0;f<e.length;++f)if(e[f]){var g=c;fc(function(){g.Jc(e[f])})}if(c.Qa===c.tc){c.Ka&&(clearTimeout(c.Ka),c.Ka(),c.Ka=k);break}c.Qa++}},function(){d.Fa()},d.Lb);var a={start:"t"};a.ser=Math.floor(1e8*Math.random()),d.ka.mc&&(a.cb=d.ka.mc),a.v="5",d.jc&&(a.s=d.jc),a=d.Lb(a),d.e("Connecting via long-poll to "+a),Lc(d.ka,a,function(){})}}this.Zc=0,this.R=b,this.fd=new uc(a),this.Ja=l;var d=this;if(this.ba=setTimeout(function(){d.e("Timed out trying to connect."),d.Fa(),d.ba=k},3e4),"complete"===document.readyState)c();else{var e=l,f=function(){document.body?e||(e=j,c()):setTimeout(f,10)};document.addEventListener?(document.addEventListener("DOMContentLoaded",f,l),window.addEventListener("load",f,l)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&f()},l),window.attachEvent("onload",f,l))}},Hc.prototype.start=function(){var a=this.ka,b=this.jd;for(a.Gd=this.id,a.Hd=b,a.pc=j;Mc(a););a=this.id,b=this.jd,this.Wa=document.createElement("iframe");var c={dframe:"t"};c.id=a,c.pw=b,a=this.Lb(c),this.Wa.src=a,this.Wa.style.display="none",document.body.appendChild(this.Wa)
},Hc.isAvailable=function(){return!(Jc||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.Wd||!Ic&&!j)},Hc.prototype.Ib=function(){this.Ja=j,this.ka&&(this.ka.close(),this.ka=k),this.Wa&&(document.body.removeChild(this.Wa),this.Wa=k),this.ba&&(clearTimeout(this.ba),this.ba=k)},Hc.prototype.Fa=function(){this.Ja||(this.e("Longpoll is closing itself"),this.Ib(),this.R&&(this.R(this.kb),this.R=k))},Hc.prototype.close=function(){this.Ja||(this.e("Longpoll is being closed."),this.Ib())},Hc.prototype.send=function(a){a=w(a),xc(this.$,"bytes_sent",a.length);for(var a=ta(a),a=Mb(a,j),a=ac(a,1840),b=0;b<a.length;b++){var c=this.ka;c.Cb.push({Qd:this.Zc,Vd:a.length,ad:a[b]}),c.pc&&Mc(c),this.Zc++}},Kc.prototype.close=function(){if(this.pc=l,this.Y){this.Y.Aa.body.innerHTML="";var a=this;setTimeout(function(){a.Y!==k&&(document.body.removeChild(a.Y),a.Y=k)},0)}var b=this.ha;b&&(this.ha=k,b())};var Nc=k;"undefined"!=typeof MozWebSocket?Nc=MozWebSocket:"undefined"!=typeof WebSocket&&(Nc=WebSocket);var Oc;S.prototype.open=function(a,b){this.ha=b,this.Id=a,this.e("Websocket connecting to "+this.Pa),this.W=new Nc(this.Pa),this.kb=l,nb.set("previous_websocket_failure",j);var c=this;this.ba=setTimeout(function(){c.e("Websocket timed out trying to connect."),Pc(c),c.Fa()},3e4),this.W.onopen=function(){c.e("Websocket connected."),c.kb=j,Pc(c),nb.remove("previous_websocket_failure")},this.W.onclose=function(){c.e("Websocket connection was disconnected."),c.W=k,c.Fa()},this.W.onmessage=function(a){if(c.W!==k)if(a=a.data,xc(c.$,"bytes_received",a.length),Qc(c),c.frames!==k)Rc(c,a);else{a:{if(y(c.frames===k,"We already have a frame buffer"),6>=a.length){var b=Number(a);if(!isNaN(b)){c.Uc=b,c.frames=[],a=k;break a}}c.Uc=1,c.frames=[]}a!==k&&Rc(c,a)}},this.W.onerror=function(a){c.e("WebSocket error.  Closing connection."),a.data&&c.e(a.data),c.Fa()}},S.prototype.start=function(){},S.isAvailable=function(){var a=l;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=j)}return!a&&Nc!==k&&!Oc},S.prototype.send=function(a){Qc(this),a=w(a),xc(this.$,"bytes_sent",a.length),a=ac(a,16384),1<a.length&&this.W.send(String(a.length));for(var b=0;b<a.length;b++)this.W.send(a[b])},S.prototype.Ib=function(){this.Ja=j,Pc(this),this.qb&&(clearInterval(this.qb),this.qb=k),this.W&&(this.W.close(),this.W=k)},S.prototype.Fa=function(){this.Ja||(this.e("WebSocket is closing itself"),this.Ib(),this.ha&&(this.ha(this.kb),this.ha=k))},S.prototype.close=function(){this.Ja||(this.e("WebSocket is being closed"),this.Ib())};var Tc=[Hc,{isAvailable:o(l)},S];Uc.prototype.od=function(a){a={t:"d",d:a},1!==this.wa&&g("Connection is not connected"),this.Jb.send(a)},Uc.prototype.Xb=function(a){this.Jc(a)},Uc.prototype.close=function(){2!==this.wa&&(this.e("Closing realtime connection."),this.wa=2,$c(this),this.R&&(this.R(),this.R=k))},la(ad,rc),ea(ad),ad.prototype.Ac=function(a){return y("online"===a),[this.yb]};var cd=0,ed=0;r=bd.prototype,r.Ga=function(a,b,c){var d=++this.Pd,a={r:d,a:a,b:b};this.e(w(a)),y(this.P,"sendRequest_ call when we're not connected not allowed."),this.ja.od(a),c&&(this.Gb[d]=c)},r.hb=function(a,b,c){if(this.Ha={yd:a,bd:l,X:b,Nb:c},this.e("Authenticating using credential: "+this.Ha),hd(this),!(b=40==a.length))a:{var d;try{var e=a.split(".");if(3!==e.length){b=l;break a}var f;b:{try{if("undefined"!=typeof atob){f=atob(e[1]);break b}}catch(g){L("base64DecodeIfNativeSupport failed: ",g)}f=k}f!==k&&(d=sa(f))}catch(h){L("isAdminAuthToken_ failed",h)}b="object"==typeof d&&wa(d,"admin")===j}b&&(this.e("Admin auth credential detected.  Reducing max reconnect time."),this.Rb=3e4)},r.Kb=function(a){delete this.Ha,this.vb(l),this.P&&this.Ga("unauth",{},function(b){a(b.s)})},r.Hc=function(a,b){this.P?kd(this,"oc",a,k,b):this.wb.push({Mc:a,action:"oc",data:k,C:b})},r.put=function(a,b,c,d){ld(this,"p",a,b,c,d)},r.Xb=function(a){if("r"in a){this.e("from server: "+w(a));var b=a.r,c=this.Gb[b];c&&(delete this.Gb[b],c(a.b))}else"error"in a&&g("A server-side error has occurred: "+a.error),"a"in a&&(b=a.a,a=a.b,this.e("handleServerMessage",b,a),"d"===b?this.Yb(a.p,a.d):"m"===b?this.Yb(a.p,a.d,j):"c"===b?(b=a.p,a=(a=a.q)?wb(a,function(a){return La(a)}).join("$"):"{}",(a=gd(this,b,a))&&a.C&&a.C("permission_denied")):"ac"===b?(b=a.s,a=a.d,c=this.Ha,delete this.Ha,c&&c.Nb&&c.Nb(b,a),this.vb(l)):"sd"===b?this.Oc?this.Oc(a):"msg"in a&&"undefined"!=typeof console&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: ")):Vb("Unrecognized action received from server: "+w(b)+"\nAre you using the latest client?"))},r.xb=function(a){this.e("connection ready"),this.P=j,this.rb=(new Date).getTime(),this.Kc({serverTimeOffset:a-(new Date).getTime()}),hd(this);for(var b in this.ga)for(var c in this.ga[b])a=this.ga[b][c],fd(this,b,c,a.Za,a.C);for(b=0;b<this.U.length;b++)this.U[b]&&md(this,b);for(;this.wb.length;)b=this.wb.shift(),kd(this,b.action,b.Mc,b.data,b.C);this.Wb(j)},r.Kd=function(a){a&&!this.gb&&this.qa===this.Rb&&(this.e("Window became visible.  Reducing delay."),this.qa=1e3,this.ja||dd(this,0)),this.gb=a},r.Jd=function(a){a?(this.e("Browser went online.  Reconnecting."),this.qa=1e3,this.Na=j,this.ja||dd(this,0)):(this.e("Browser went offline.  Killing connection; don't reconnect."),this.Na=l,this.ja&&this.ja.close())},r.gd=function(){this.e("data client disconnected"),this.P=l,this.ja=k;for(var a=0;a<this.U.length;a++){var b=this.U[a];b&&"h"in b.ld&&b.Md&&(b.C&&b.C("disconnect"),delete this.U[a],this.zb--)}if(0===this.zb&&(this.U=[]),this.Na)this.gb?this.rb&&(3e4<(new Date).getTime()-this.rb&&(this.qa=1e3),this.rb=k):(this.e("Window isn't visible.  Delaying reconnect."),this.qa=this.Rb,this.Fc=(new Date).getTime()),a=Math.max(0,this.qa-((new Date).getTime()-this.Fc)),a*=Math.random(),this.e("Trying to reconnect in "+a+"ms"),dd(this,a),this.qa=Math.min(this.Rb,1.3*this.qa);else for(var c in this.Gb)delete this.Gb[c];this.Wb(l)},r.Ia=function(){this.Na=l,this.ja?this.ja.close():(this.Sa&&(clearTimeout(this.Sa),this.Sa=k),this.P&&this.gd())},r.ab=function(){this.Na=j,this.qa=1e3,this.P||dd(this,0)},nd.prototype.w=function(a){this.o!==k&&Ec(this.o,function(b,c){a(b,c)})},rd.prototype.toString=function(){return this.ra.toString()},sd.prototype.set=function(a,b){var c=this,d=[];return vb(b,function(a){var b=a.path,a=a.pa,e=Nb();Qa(K(c.Bb,b),e),U(c.I,b,a),d.push({path:b,Rd:e})}),d},wd.prototype.Eb=function(){for(var a=0;a<this.Ta.length;a++)if(this.Ta[a]){var b=this.Ta[a];this.Ta[a]=k,yd(b)}this.Ta=[]},zd.prototype.cc=function(a,b){b=this.dc(a,b),b!=k&&Cd(this,b)},zd.prototype.Eb=function(){this.xc.Eb()},la(Fd,zd),Fd.prototype.dc=function(a,b){return this.i=a,this.pb&&b!=k&&b.push(new V("value",this.i)),b},Fd.prototype.lb=function(){return{}},la(Kd,Dc),r=Kd.prototype,r.setActive=function(a){this.xa=a},r.defaultView=function(){return Ld(this)?this.get("default"):k},r.path=ba("S"),r.toString=function(){return wb(this.keys(),function(a){return"default"===a?"{}":a}).join("$")},r.Za=function(){var a=[];return Ec(this,function(b,c){a.push(c.J)}),a},la(Nd,zd),Nd.prototype.dc=function(a,b){if(b===k)return b;var c=[],d=this.J;s(d.da)&&c.push(s(d.va)&&d.va!=k?function(a,b){var c=Xb(b,d.da);return c>0||0===c&&0<=Yb(a,d.va)}:function(a,b){return 0<=Xb(b,d.da)}),s(d.Ba)&&c.push(s(d.Ra)?function(a,b){var c=Xb(b,d.Ba);return 0>c||0===c&&0>=Yb(a,d.Ra)}:function(a,b){return 0>=Xb(b,d.Ba)});var e=k,f=k;if(s(this.J.Da))if(s(this.J.da)){if(e=Od(a,c,this.J.Da,l)){var g=a.M(e).j();c.push(function(a,b){var c=Xb(b,g);return 0>c||0===c&&0>=Yb(a,e)})}}else if(f=Od(a,c,this.J.Da,j)){var h=a.M(f).j();c.push(function(a,b){var c=Xb(b,h);return c>0||0===c&&0<=Yb(a,f)})}for(var i=[],m=[],n=[],o=[],p=0;p<b.length;p++){var q=b[p].aa,r=b[p].ta;switch(b[p].type){case"child_added":Pd(c,q,r)&&(this.i=this.i.H(q,r),m.push(b[p]));break;case"child_removed":this.i.M(q).f()||(this.i=this.i.H(q,k),i.push(b[p]));break;case"child_changed":!this.i.M(q).f()&&Pd(c,q,r)&&(this.i=this.i.H(q,r),o.push(b[p]));break;case"child_moved":var t=!this.i.M(q).f(),u=Pd(c,q,r);t?u?(this.i=this.i.H(q,r),n.push(b[p])):(i.push(new V("child_removed",this.i.M(q),q)),this.i=this.i.H(q,k)):u&&(this.i=this.i.H(q,r),m.push(b[p]))}}var v=e||f;if(v){var w=(p=f!==k)?this.i.cd():this.i.dd(),x=l,y=l,z=this;(p?a.yc:a.w).call(a,function(a,b){return!y&&w===k&&(y=j),y&&x?j:(x?(i.push(new V("child_removed",z.i.M(a),a)),z.i=z.i.H(a,k)):y&&(m.push(new V("child_added",b,a)),z.i=z.i.H(a,b)),w===a&&(y=j),void(a===v&&(x=j)))})}for(p=0;p<m.length;p++)c=m[p],q=this.i.ea(c.aa,c.ta),i.push(new V("child_added",c.ta,c.aa,q));for(p=0;p<n.length;p++)c=n[p],q=this.i.ea(c.aa,c.ta),i.push(new V("child_moved",c.ta,c.aa,q));for(p=0;p<o.length;p++)c=o[p],q=this.i.ea(c.aa,c.ta),i.push(new V("child_changed",c.ta,c.aa,q));return this.pb&&0<i.length&&i.push(new V("value",this.i)),i},Nd.prototype.Cc=function(a){return this.i.M(a)!==N},Nd.prototype.lb=function(a,b,c){var d={};this.i.N()||this.i.w(function(a){d[a]=3});var e=this.i,c=T(c,new J("")),f=new Pa;Qa(K(f,this.J.path),j);var b=N.ya(a,b),g=this;return Hd(c,b,a,f,function(a,b,c){c!==k&&a.toString()===g.J.path.toString()&&g.dc(b,c)}),this.i.N()?cc(d,function(a,b){d[b]=2}):(this.i.w(function(a){C(d,a)||(d[a]=1)}),cc(d,function(a,b){g.i.M(b).f()&&(d[b]=2)})),this.i=e,d},Qd.prototype.Mb=function(a,b,c,d,e){var f=a.path,g=K(this.la,f),h=g.k();h===k?(h=new Kd,Qa(g,h)):y(!h.f(),"We shouldn't be storing empty QueryMaps");var i=a.La();if(h.contains(i))a=h.get(i),Ad(a,b,c,d,e);else{var l=this.g.ra.Q(f),l=a="default"===a.La()?new Fd(a,l):new Nd(a,l);if(Md(h)||Rd(g))h.add(i,l),h.S||(h.S=l.J.path);else{var m,n;h.f()||(m=h.toString(),n=h.Za()),h.add(i,l),h.S||(h.S=l.J.path),h.setActive(Sd(this,h)),m&&n&&id(this.u,h.path(),m,n)}Md(h)&&Sa(g,function(a){(a=a.k())&&(a.xa&&a.xa(),a.xa=k)}),Ad(a,b,c,d,e),(b=(b=Ta(K(this.la,f),function(a){var b;return(b=a.k())&&(b=a.k().defaultView())&&(b=a.k().defaultView().pb),b?j:void 0},j))||this.u===k&&!T(this.g,f).f())&&Ed(a)}a.Eb()},Qd.prototype.fc=function(a,b,c,d){var e=K(this.la,a.path).k();return e===k?k:Ud(this,e,a,b,c,d)},Qd.prototype.cc=function(a,b,c){a=K(this.la,a).k(),a!==k&&Ec(a,function(a,d){d.cc(b,c)})},Qd.prototype.lb=function(a,b,c,d){var e={};return Ec(b,function(b,f){var g=f.lb(a,c,d);cc(g,function(a,b){e[b]=3===a?3:(wa(e,b)||a)===a?a:3})}),c.N()||c.w(function(a){C(e,a)||(e[a]=4)}),e},r=be.prototype,r.toString=function(){return(this.K.hc?"https://":"http://")+this.K.host},r.name=function(){return this.K.Sb},r.Yb=function(a,b,c){this.wc++;var d,e,f=[];for(9<=a.length&&a.lastIndexOf(".priority")===a.length-9?(d=new J(a.substring(0,a.length-9)),e=T(this.g.sa,d).za(b),f.push(d)):c?(d=new J(a),e=T(this.g.sa,d),cc(b,function(a,b){var c=new J(b);".priority"===b?e=e.za(a):(e=e.ya(c,Q(a)),f.push(d.F(b)))})):(d=new J(a),e=Q(b),f.push(d)),a=Zd(this.G,d,e,this.g.I),b=l,c=0;c<a.length;++c){var g=a[c],h=this.g,i=g.path;U(h.sa,i,g.pa),b=td(h,i)||b}b&&(d=fe(this,d)),W(this.G,d,f)},r.Wb=function(a){if(ce(this,"connected",a),a===l){this.e("onDisconnectEvents");var b=this,c=[],d=ee(this),a=qd,e=new nd;qd(this.R,new J(""),function(a,b){od(e,a,ae(b,d))}),a(e,new J(""),function(a,d){var e=Zd(b.G,a,d,b.g.I);c.push.apply(c,b.g.set(a,e)),e=ge(b,a),fe(b,e),W(b.G,e,[a])}),vd(this.g,c),this.R=new nd}},r.Kc=function(a){var b=this;bc(a,function(a,c){ce(b,c,a)})},r.Bc=function(a){return a=new J(a),T(this.g.sa,a).hash()},r.vb=function(a){ce(this,"authenticated",a)},r.hb=function(a,b,c){"firebaseio-demo.com"===this.K.domain&&M("FirebaseRef.auth() not supported on demo (*.firebaseio-demo.com) Firebases. Please use on production (*.firebaseio.com) Firebases only."),this.u.hb(a,function(a,c){X(b,a,c)},function(a,b){if(M("auth() was canceled: "+b),c){var d=Error(b);d.code=a.toUpperCase(),c(d)}})},r.Kb=function(a){this.u.Kb(function(b){X(a,b)})},r.bb=function(a,b,c,d){this.e("set",{path:a.toString(),value:b,ia:c});var e=ee(this),b=Q(b,c),e=ae(b,e),e=Zd(this.G,a,e,this.g.I),f=this.g.set(a,e),g=this;this.u.put(a.toString(),b.V(j),function(b){"ok"!==b&&M("set at "+a+" failed: "+b),vd(g.g,f),td(g.g,a);var c=fe(g,a);W(g.G,c,[]),X(d,b)}),e=ge(this,a),fe(this,e),W(this.G,e,[a])},r.update=function(a,b,c){this.e("update",{path:a.toString(),value:b});var d,e=T(this.g.ma,a),f=j,g=[],h=ee(this),i=[];for(d in b){var f=l,k=Q(b[d]),k=ae(k,h),e=e.H(d,k),m=a.F(d);g.push(m),k=Zd(this.G,m,k,this.g.I),i=i.concat(this.g.set(a,k))}if(f)L("update() called with empty data.  Don't do anything."),X(c,"ok");else{var n=this;ld(this.u,"m",a.toString(),b,function(b){y("ok"===b||"permission_denied"===b,"merge at "+a+" failed."),"ok"!==b&&M("update at "+a+" failed: "+b),vd(n.g,i),td(n.g,a);var d=fe(n,a);W(n.G,d,[]),X(c,b)},aa),b=ge(this,a),fe(this,b),W(n.G,b,g)}},r.Pc=function(a,b,c){this.e("setPriority",{path:a.toString(),ia:b});var d=ee(this),d=$d(b,d),d=T(this.g.I,a).za(d),d=Zd(this.G,a,d,this.g.I),e=this.g.set(a,d),f=this;this.u.put(a.toString()+"/.priority",b,function(b){"permission_denied"===b&&M("setPriority at "+a+" failed: "+b),vd(f.g,e),td(f.g,a);var d=fe(f,a);W(f.G,d,[]),X(c,b)}),b=fe(this,a),W(f.G,b,[])},r.Hc=function(a,b){var c=this;this.u.Hc(a.toString(),function(d){"ok"===d&&pd(c.R,a),X(b,d)})},r.Mb=function(a,b,c,d,e){".info"===E(a.path)?this.Ec.Mb(a,b,c,d,e):this.G.Mb(a,b,c,d,e)},r.fc=function(a,b,c,d){if(".info"===E(a.path))this.Ec.fc(a,b,c,d);else{if(b=this.G.fc(a,b,c,d),c=b!==k){for(var c=this.g,d=a.path,e=[],f=0;f<b.length;++f)e[f]=T(c.sa,b[f]);for(U(c.sa,d,N),f=0;f<b.length;++f)U(c.sa,b[f],e[f]);c=td(c,d)}c&&(y(this.g.ma.ra===this.G.Vb,"We should have raised any outstanding events by now.  Else, we'll blow them away."),U(this.g.ma,a.path,T(this.g.I,a.path)),this.G.Vb=this.g.ma.ra)}},r.Ia=function(){this.u.Ia()},r.ab=function(){this.u.ab()},r.Qc=function(a){if("undefined"!=typeof console){a?(this.kc||(this.kc=new yc(this.$)),a=this.kc.get()):a=this.$.get();var b,c=a,d=[],e=0;for(b in c)d[e++]=b;var f=function(a,b){return Math.max(b.length,a)};if(d.reduce)b=d.reduce(f,0);else{var g=0;vb(d,function(a){g=f.call(aa,g,a)}),b=g}for(var h in a){for(c=a[h],d=h.length;b+2>d;d++)h+=" ";console.log(h+c)}}},r.Rc=function(a){xc(this.$,a),this.qd.Sc[a]=j},r.e=function(){L("r:"+this.u.id+":",arguments)},ea(Y),Y.prototype.Ia=function(){for(var a in this.$a)this.$a[a].Ia()},Y.prototype.interrupt=Y.prototype.Ia,Y.prototype.ab=function(){for(var a in this.$a)this.$a[a].ab()},Y.prototype.resume=Y.prototype.ab;var Z={Dd:function(a){var b=O.prototype.hash;O.prototype.hash=a;var c=gc.prototype.hash;return gc.prototype.hash=a,function(){O.prototype.hash=b,gc.prototype.hash=c}}};Z.hijackHash=Z.Dd,Z.La=function(a){return a.La()},Z.queryIdentifier=Z.La,Z.Fd=function(a){return a.n.u.ga},Z.listens=Z.Fd,Z.Nd=function(a){return a.n.u.ja},Z.refConnection=Z.Nd,Z.sd=bd,Z.DataConnection=Z.sd,bd.prototype.sendRequest=bd.prototype.Ga,bd.prototype.interrupt=bd.prototype.Ia,Z.td=Uc,Z.RealTimeConnection=Z.td,Uc.prototype.sendRequest=Uc.prototype.od,Uc.prototype.close=Uc.prototype.close,Z.rd=pb,Z.ConnectionTarget=Z.rd,Z.Bd=function(){Ic=Oc=j},Z.forceLongPolling=Z.Bd,Z.Cd=function(){Jc=j},Z.forceWebSockets=Z.Cd,Z.Td=function(a,b){a.n.u.Oc=b},Z.setSecurityDebugCallback=Z.Td,Z.Qc=function(a,b){a.n.Qc(b)},Z.stats=Z.Qc,Z.Rc=function(a,b){a.n.Rc(b)},Z.statsIncrementCounter=Z.Rc,Z.wc=function(a){return a.n.wc},$.prototype.cancel=function(a){z("Firebase.onDisconnect().cancel",0,1,arguments.length),B("Firebase.onDisconnect().cancel",1,a,j),this.Fb.Hc(this.S,a)},$.prototype.cancel=$.prototype.cancel,$.prototype.remove=function(a){z("Firebase.onDisconnect().remove",0,1,arguments.length),D("Firebase.onDisconnect().remove",this.S),B("Firebase.onDisconnect().remove",1,a,j),he(this.Fb,this.S,k,a)},$.prototype.remove=$.prototype.remove,$.prototype.set=function(a,b){z("Firebase.onDisconnect().set",1,2,arguments.length),D("Firebase.onDisconnect().set",this.S),Aa("Firebase.onDisconnect().set",a,l),B("Firebase.onDisconnect().set",2,b,j),he(this.Fb,this.S,a,b)},$.prototype.set=$.prototype.set,$.prototype.bb=function(a,b,c){z("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),D("Firebase.onDisconnect().setWithPriority",this.S),Aa("Firebase.onDisconnect().setWithPriority",a,l),Fa("Firebase.onDisconnect().setWithPriority",2,b,l),B("Firebase.onDisconnect().setWithPriority",3,c,j),(".length"===this.Ea||".keys"===this.Ea)&&g("Firebase.onDisconnect().setWithPriority failed: "+this.Ea+" is a read-only object.");var d=this.Fb,e=this.S,f=Q(a,b);jd(d.u,e.toString(),f.V(j),function(a){"ok"===a&&od(d.R,e,f),X(c,a)})},$.prototype.setWithPriority=$.prototype.bb,$.prototype.update=function(a,b){z("Firebase.onDisconnect().update",1,2,arguments.length),D("Firebase.onDisconnect().update",this.S),Ea("Firebase.onDisconnect().update",a),B("Firebase.onDisconnect().update",2,b,j);var c,d=this.Fb,e=this.S,f=j;for(c in a)f=l;if(f)L("onDisconnect().update() called with empty data.  Don't do anything."),X(b,j);else{f=d.u,c=e.toString();var g=function(c){if("ok"===c)for(var f in a){var g=Q(a[f]);od(d.R,e.F(f),g)}X(b,c)};f.P?kd(f,"om",c,a,g):f.wb.push({Mc:c,action:"om",data:a,C:g})}},$.prototype.update=$.prototype.update;var qe,re=0,se=[];qe=function(a){var b=a===re;re=a;for(var c=Array(8),d=7;d>=0;d--)c[d]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(a%64),a=Math.floor(a/64);if(y(0===a),a=c.join(""),b){for(d=11;d>=0&&63===se[d];d--)se[d]=0;se[d]++}else for(d=0;12>d;d++)se[d]=Math.floor(64*Math.random());for(d=0;12>d;d++)a+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(se[d]);return y(20===a.length,"NextPushId: Length should be 20."),a},la(H,F);var te=H,ue=["Firebase"],ve=ca;!(ue[0]in ve)&&ve.execScript&&ve.execScript("var "+ue[0]);for(var we;ue.length&&(we=ue.shift());)!ue.length&&s(te)?ve[we]=te:ve=ve[we]?ve[we]:ve[we]={};H.prototype.name=function(){return z("Firebase.name",0,0,arguments.length),this.path.f()?k:this.path.Z<this.path.m.length?this.path.m[this.path.m.length-1]:k},H.prototype.name=H.prototype.name,H.prototype.F=function(a){if(z("Firebase.child",1,1,arguments.length),ha(a))a=String(a);else if(!(a instanceof J))if(E(this.path)===k){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/")),Ia("Firebase.child",b)}else Ia("Firebase.child",a);return new H(this.n,this.path.F(a))},H.prototype.child=H.prototype.F,H.prototype.parent=function(){z("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return a===k?k:new H(this.n,a)},H.prototype.parent=H.prototype.parent,H.prototype.root=function(){z("Firebase.ref",0,0,arguments.length);for(var a=this;a.parent()!==k;)a=a.parent();return a},H.prototype.root=H.prototype.root,H.prototype.toString=function(){z("Firebase.toString",0,0,arguments.length);var a;if(this.parent()===k)a=this.n.toString();else{a=this.parent().toString()+"/";var b=this.name();a+=encodeURIComponent(String(b))}return a},H.prototype.toString=H.prototype.toString,H.prototype.set=function(a,b){return z("Firebase.set",1,2,arguments.length),D("Firebase.set",this.path),Aa("Firebase.set",a,l),B("Firebase.set",2,b,j),this.n.bb(this.path,a,k,b)},H.prototype.set=H.prototype.set,H.prototype.update=function(a,b){return z("Firebase.update",1,2,arguments.length),D("Firebase.update",this.path),Ea("Firebase.update",a),B("Firebase.update",2,b,j),C(a,".priority")&&g(Error("update() does not currently support updating .priority.")),this.n.update(this.path,a,b)},H.prototype.update=H.prototype.update,H.prototype.bb=function(a,b,c){return z("Firebase.setWithPriority",2,3,arguments.length),D("Firebase.setWithPriority",this.path),Aa("Firebase.setWithPriority",a,l),Fa("Firebase.setWithPriority",2,b,l),B("Firebase.setWithPriority",3,c,j),(".length"===this.name()||".keys"===this.name())&&g("Firebase.setWithPriority failed: "+this.name()+" is a read-only object."),this.n.bb(this.path,a,b,c)},H.prototype.setWithPriority=H.prototype.bb,H.prototype.remove=function(a){z("Firebase.remove",0,1,arguments.length),D("Firebase.remove",this.path),B("Firebase.remove",1,a,j),this.set(k,a)},H.prototype.remove=H.prototype.remove,H.prototype.transaction=function(a,b,c){function d(){}z("Firebase.transaction",1,3,arguments.length),D("Firebase.transaction",this.path),B("Firebase.transaction",1,a,l),B("Firebase.transaction",2,b,j),s(c)&&"boolean"!=typeof c&&g(Error(A("Firebase.transaction",3,j)+"must be a boolean.")),(".length"===this.name()||".keys"===this.name())&&g("Firebase.transaction failed: "+this.name()+" is a read-only object."),"undefined"==typeof c&&(c=j);var e=this.n,f=this.path,h=c;e.e("transaction on "+f);var i=new H(e,f);i.Xa("value",d);var h={path:f,update:a,C:b,status:k,hd:Nb(),qc:h,nd:0,nc:function(){i.ub("value",d)},oc:k},m=h.update(T(e.fb,f).V());if(s(m)){Ba("transaction failed: Data returned ",m),h.status=1;var n=K(e.eb,f),o=n.k()||[];o.push(h),Qa(n,o),o="object"==typeof m&&m!==k&&C(m,".priority")?m[".priority"]:T(e.g.I,f).j(),n=ee(e),m=Q(m,o),m=ae(m,n),U(e.fb,f,m),h.qc&&(U(e.g.ma,f,m),W(e.G,f,[f])),je(e)}else h.nc(),h.C&&(e=me(e,f),h.C(k,l,e))},H.prototype.transaction=H.prototype.transaction,H.prototype.Pc=function(a,b){z("Firebase.setPriority",1,2,arguments.length),D("Firebase.setPriority",this.path),Fa("Firebase.setPriority",1,a,l),B("Firebase.setPriority",2,b,j),this.n.Pc(this.path,a,b)},H.prototype.setPriority=H.prototype.Pc,H.prototype.push=function(a,b){z("Firebase.push",0,2,arguments.length),D("Firebase.push",this.path),Aa("Firebase.push",a,j),B("Firebase.push",2,b,j);var c=de(this.n),c=qe(c),c=this.F(c);return"undefined"!=typeof a&&a!==k&&c.set(a,b),c},H.prototype.push=H.prototype.push,H.prototype.ha=function(){return new $(this.n,this.path,this.name())},H.prototype.onDisconnect=H.prototype.ha,H.prototype.Od=function(){M("FirebaseRef.removeOnDisconnect() being deprecated. Please use FirebaseRef.onDisconnect().remove() instead."),this.ha().remove(),ie(this.n)},H.prototype.removeOnDisconnect=H.prototype.Od,H.prototype.Sd=function(a){M("FirebaseRef.setOnDisconnect(value) being deprecated. Please use FirebaseRef.onDisconnect().set(value) instead."),this.ha().set(a),ie(this.n)},H.prototype.setOnDisconnect=H.prototype.Sd,H.prototype.hb=function(a,b,c){z("Firebase.auth",1,3,arguments.length),u(a)||g(Error(A("Firebase.auth",1,l)+"must be a valid credential (a string).")),B("Firebase.auth",2,b,j),B("Firebase.auth",3,b,j),this.n.hb(a,b,c)},H.prototype.auth=H.prototype.hb,H.prototype.Kb=function(a){z("Firebase.unauth",0,1,arguments.length),B("Firebase.unauth",1,a,j),this.n.Kb(a)},H.prototype.unauth=H.prototype.Kb,H.goOffline=function(){z("Firebase.goOffline",0,0,arguments.length),Y.mb().Ia()},H.goOnline=function(){z("Firebase.goOnline",0,0,arguments.length),Y.mb().ab()},H.enableLogging=Tb,H.ServerValue={TIMESTAMP:{".sv":"timestamp"}},H.INTERNAL=Z,H.Context=Y}(),function(a,b,c){"use strict";function d(a){var b;if(b=a.match(j)){var c=new Date(0),d=0,f=0;return b[9]&&(d=e(b[9]+b[10]),f=e(b[9]+b[11])),c.setUTCFullYear(e(b[1]),e(b[2])-1,e(b[3])),c.setUTCHours(e(b[4]||0)-d,e(b[5]||0)-f,e(b[6]||0),e(b[7]||0)),c}return a}function e(a){return parseInt(a,10)}function f(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function g(a,d,e){function f(a,c,d){return b.isFunction(a)?a:function(){return b.isNumber(a)?[a,c,d]:[200,a,c]}}function g(a,f,g,h,j,p,q){function r(a){return b.isString(a)||b.isFunction(a)||a instanceof RegExp?a:b.toJson(a)}function s(b){function d(){var c=b.response(a,f,g,j);t.$$respHeaders=c[2],h(o(c[0]),o(c[1]),t.getAllResponseHeaders())}function i(){for(var a=0,b=m.length;b>a;a++)if(m[a]===d){m.splice(a,1),h(-1,c,"");break}}return!e&&p&&p.then&&p.then(i),d}var t=new i,u=l[0],v=!1;if(u&&u.match(a,f)){if(!u.matchData(g))throw new Error("Expected "+u+" with different data\nEXPECTED: "+r(u.data)+"\nGOT:      "+g);if(!u.matchHeaders(j))throw new Error("Expected "+u+" with different headers\nEXPECTED: "+r(u.headers)+"\nGOT:      "+r(j));if(l.shift(),u.response)return void m.push(s(u));v=!0}for(var w,x=-1;w=k[++x];)if(w.match(a,f,g,j||{})){if(w.response)(e?e.defer:n)(s(w));else{if(!w.passThrough)throw new Error("No response defined !");d(a,f,g,h,j,p,q)}return}throw new Error(v?"No response defined !":"Unexpected request: "+a+" "+f+"\n"+(u?"Expected "+u:"No more request expected"))}function j(a){b.forEach(["GET","DELETE","JSONP"],function(b){g[a+b]=function(d,e){return g[a](b,d,c,e)}}),b.forEach(["PUT","POST","PATCH"],function(b){g[a+b]=function(c,d,e){return g[a](b,c,d,e)}})}var k=[],l=[],m=[],n=b.bind(m,m.push),o=b.copy;return g.when=function(a,b,c,d){var g=new h(a,b,c,d),i={respond:function(a,b,c){g.response=f(a,b,c)}};return e&&(i.passThrough=function(){g.passThrough=!0}),k.push(g),i},j("when"),g.expect=function(a,b,c,d){var e=new h(a,b,c,d);return l.push(e),{respond:function(a,b,c){e.response=f(a,b,c)}}},j("expect"),g.flush=function(c){if(a.$digest(),!m.length)throw new Error("No pending request to flush !");if(b.isDefined(c))for(;c--;){if(!m.length)throw new Error("No more pending request to flush !");m.shift()()}else for(;m.length;)m.shift()();g.verifyNoOutstandingExpectation()},g.verifyNoOutstandingExpectation=function(){if(a.$digest(),l.length)throw new Error("Unsatisfied requests: "+l.join(", "))},g.verifyNoOutstandingRequest=function(){if(m.length)throw new Error("Unflushed requests: "+m.length)},g.resetExpectations=function(){l.length=0,m.length=0},g}function h(a,c,d,e){this.data=d,this.headers=e,this.match=function(c,d,e,f){return a!=c?!1:this.matchUrl(d)?b.isDefined(e)&&!this.matchData(e)?!1:b.isDefined(f)&&!this.matchHeaders(f)?!1:!0:!1},this.matchUrl=function(a){return c?b.isFunction(c.test)?c.test(a):c==a:!0},this.matchHeaders=function(a){return b.isUndefined(e)?!0:b.isFunction(e)?e(a):b.equals(e,a)},this.matchData=function(a){return b.isUndefined(d)?!0:d&&b.isFunction(d.test)?d.test(a):d&&b.isFunction(d)?d(a):d&&!b.isString(d)?b.equals(d,b.fromJson(a)):d==a},this.toString=function(){return a+" "+c}}function i(){i.$$lastInstance=this,this.open=function(a,b,c){this.$$method=a,this.$$url=b,this.$$async=c,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(a){this.$$data=a},this.setRequestHeader=function(a,b){this.$$reqHeaders[a]=b},this.getResponseHeader=function(a){var d=this.$$respHeaders[a];return d?d:(a=b.lowercase(a),(d=this.$$respHeaders[a])?d:(d=c,b.forEach(this.$$respHeaders,function(c,e){d||b.lowercase(e)!=a||(d=c)}),d))},this.getAllResponseHeaders=function(){var a=[];return b.forEach(this.$$respHeaders,function(b,c){a.push(c+": "+b)}),a.join("\n")},this.abort=b.noop}b.mock={},b.mock.$BrowserProvider=function(){this.$get=function(){return new b.mock.$Browser}},b.mock.$Browser=function(){var a=this;this.isMock=!0,a.$$url="http://server/",a.$$lastUrl=a.$$url,a.pollFns=[],a.$$completeOutstandingRequest=b.noop,a.$$incOutstandingRequestCount=b.noop,a.onUrlChange=function(b){return a.pollFns.push(function(){a.$$lastUrl!=a.$$url&&(a.$$lastUrl=a.$$url,b(a.$$url))}),b},a.cookieHash={},a.lastCookieHash={},a.deferredFns=[],a.deferredNextId=0,a.defer=function(b,c){return c=c||0,a.deferredFns.push({time:a.defer.now+c,fn:b,id:a.deferredNextId}),a.deferredFns.sort(function(a,b){return a.time-b.time}),a.deferredNextId++},a.defer.now=0,a.defer.cancel=function(d){var e;return b.forEach(a.deferredFns,function(a,b){a.id===d&&(e=b)}),e!==c?(a.deferredFns.splice(e,1),!0):!1},a.defer.flush=function(c){if(b.isDefined(c))a.defer.now+=c;else{if(!a.deferredFns.length)throw new Error("No deferred tasks to be flushed");a.defer.now=a.deferredFns[a.deferredFns.length-1].time}for(;a.deferredFns.length&&a.deferredFns[0].time<=a.defer.now;)a.deferredFns.shift().fn()},a.$$baseHref="",a.baseHref=function(){return this.$$baseHref}},b.mock.$Browser.prototype={poll:function(){b.forEach(this.pollFns,function(a){a()})},addPollFn:function(a){return this.pollFns.push(a),a},url:function(a){return a?(this.$$url=a,this):this.$$url},cookies:function(a,c){return a?void(b.isUndefined(c)?delete this.cookieHash[a]:b.isString(c)&&c.length<=4096&&(this.cookieHash[a]=c)):(b.equals(this.cookieHash,this.lastCookieHash)||(this.lastCookieHash=b.copy(this.cookieHash),this.cookieHash=b.copy(this.cookieHash)),this.cookieHash)},notifyWhenNoOutstandingRequests:function(a){a()}},b.mock.$ExceptionHandlerProvider=function(){var a;this.mode=function(b){switch(b){case"rethrow":a=function(a){throw a};break;case"log":var c=[];a=function(a){c.push(1==arguments.length?a:[].slice.call(arguments,0))},a.errors=c;break;default:throw new Error("Unknown mode '"+b+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return a},this.mode("rethrow")},b.mock.$LogProvider=function(){function a(a,b,c){return a.concat(Array.prototype.slice.call(b,c))}var c=!0;this.debugEnabled=function(a){return b.isDefined(a)?(c=a,this):c},this.$get=function(){var d={log:function(){d.log.logs.push(a([],arguments,0))},warn:function(){d.warn.logs.push(a([],arguments,0))},info:function(){d.info.logs.push(a([],arguments,0))},error:function(){d.error.logs.push(a([],arguments,0))},debug:function(){c&&d.debug.logs.push(a([],arguments,0))}};return d.reset=function(){d.log.logs=[],d.info.logs=[],d.warn.logs=[],d.error.logs=[],d.debug.logs=[]},d.assertEmpty=function(){var a=[];if(b.forEach(["error","warn","info","log","debug"],function(c){b.forEach(d[c].logs,function(d){b.forEach(d,function(b){a.push("MOCK $log ("+c+"): "+String(b)+"\n"+(b.stack||""))})})}),a.length)throw a.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),a.push(""),new Error(a.join("\n---------\n"))},d.reset(),d}},b.mock.$IntervalProvider=function(){this.$get=["$rootScope","$q",function(a,d){var e=[],f=0,g=0,h=function(h,i,j,k){function l(){if(m.notify(o++),j>0&&o>=j){var d;m.resolve(o),b.forEach(e,function(a,b){a.id===n.$$intervalId&&(d=b)}),d!==c&&e.splice(d,1)}p||a.$apply()}var m=d.defer(),n=m.promise,o=0,p=b.isDefined(k)&&!k;return j=b.isDefined(j)?j:0,n.then(null,null,h),n.$$intervalId=f,e.push({nextTime:g+i,delay:i,fn:l,id:f,deferred:m}),e.sort(function(a,b){return a.nextTime-b.nextTime}),f++,n};return h.cancel=function(a){if(!a)return!1;var d;return b.forEach(e,function(b,c){b.id===a.$$intervalId&&(d=c)}),d!==c?(e[d].deferred.reject("canceled"),e.splice(d,1),!0):!1},h.flush=function(a){for(g+=a;e.length&&e[0].nextTime<=g;){var b=e[0];b.fn(),b.nextTime+=b.delay,e.sort(function(a,b){return a.nextTime-b.nextTime})}return a},h}]};var j=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(b.mock.TzDate=function(a,c){var e=new Date(0);if(b.isString(c)){var g=c;if(e.origDate=d(c),c=e.origDate.getTime(),isNaN(c))throw{name:"Illegal Argument",message:"Arg '"+g+"' passed into TzDate constructor is not a valid date string"}}else e.origDate=new Date(c);var h=new Date(c).getTimezoneOffset();e.offsetDiff=60*h*1e3-1e3*a*60*60,e.date=new Date(c+e.offsetDiff),e.getTime=function(){return e.date.getTime()-e.offsetDiff},e.toLocaleDateString=function(){return e.date.toLocaleDateString()},e.getFullYear=function(){return e.date.getFullYear()},e.getMonth=function(){return e.date.getMonth()},e.getDate=function(){return e.date.getDate()},e.getHours=function(){return e.date.getHours()},e.getMinutes=function(){return e.date.getMinutes()},e.getSeconds=function(){return e.date.getSeconds()},e.getMilliseconds=function(){return e.date.getMilliseconds()},e.getTimezoneOffset=function(){return 60*a},e.getUTCFullYear=function(){return e.origDate.getUTCFullYear()},e.getUTCMonth=function(){return e.origDate.getUTCMonth()},e.getUTCDate=function(){return e.origDate.getUTCDate()},e.getUTCHours=function(){return e.origDate.getUTCHours()},e.getUTCMinutes=function(){return e.origDate.getUTCMinutes()},e.getUTCSeconds=function(){return e.origDate.getUTCSeconds()},e.getUTCMilliseconds=function(){return e.origDate.getUTCMilliseconds()},e.getDay=function(){return e.date.getDay()
},e.toISOString&&(e.toISOString=function(){return f(e.origDate.getUTCFullYear(),4)+"-"+f(e.origDate.getUTCMonth()+1,2)+"-"+f(e.origDate.getUTCDate(),2)+"T"+f(e.origDate.getUTCHours(),2)+":"+f(e.origDate.getUTCMinutes(),2)+":"+f(e.origDate.getUTCSeconds(),2)+"."+f(e.origDate.getUTCMilliseconds(),3)+"Z"});var i=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return b.forEach(i,function(a){e[a]=function(){throw new Error("Method '"+a+"' is not implemented in the TzDate mock")}}),e},b.mock.TzDate.prototype=Date.prototype,b.mock.animate=b.module("ngAnimateMock",["ng"]).config(["$provide",function(a){var c=[];a.value("$$animateReflow",function(a){return c.push(a),b.noop}),a.decorator("$animate",function(a){var d={queue:[],enabled:a.enabled,triggerReflow:function(){if(0===c.length)throw new Error("No animation reflows present");b.forEach(c,function(a){a()}),c=[]}};return b.forEach(["enter","leave","move","addClass","removeClass","setClass"],function(b){d[b]=function(){d.queue.push({event:b,element:arguments[0],args:arguments}),a[b].apply(a,arguments)}}),d})}]),b.mock.dump=function(a){function c(a){var e;return b.isElement(a)?(a=b.element(a),e=b.element("<div></div>"),b.forEach(a,function(a){e.append(b.element(a).clone())}),e=e.html()):b.isArray(a)?(e=[],b.forEach(a,function(a){e.push(c(a))}),e="[ "+e.join(", ")+" ]"):e=b.isObject(a)?b.isFunction(a.$eval)&&b.isFunction(a.$apply)?d(a):a instanceof Error?a.stack||""+a.name+": "+a.message:b.toJson(a,!0):String(a),e}function d(a,c){c=c||"  ";var e=[c+"Scope("+a.$id+"): {"];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&!f.match(/^(\$|this)/)&&e.push("  "+f+": "+b.toJson(a[f]));for(var g=a.$$childHead;g;)e.push(d(g,c+"  ")),g=g.$$nextSibling;return e.push("}"),e.join("\n"+c)}return c(a)},b.mock.$HttpBackendProvider=function(){this.$get=["$rootScope",g]},b.mock.$TimeoutDecorator=function(a,c){function d(a){var c=[];return b.forEach(a,function(a){c.push("{id: "+a.id+", time: "+a.time+"}")}),c.join(", ")}return a.flush=function(a){c.defer.flush(a)},a.verifyNoPendingTasks=function(){if(c.deferredFns.length)throw new Error("Deferred tasks to flush ("+c.deferredFns.length+"): "+d(c.deferredFns))},a},b.mock.$RootElementProvider=function(){this.$get=function(){return b.element("<div ng-app></div>")}},b.module("ngMock",["ng"]).provider({$browser:b.mock.$BrowserProvider,$exceptionHandler:b.mock.$ExceptionHandlerProvider,$log:b.mock.$LogProvider,$interval:b.mock.$IntervalProvider,$httpBackend:b.mock.$HttpBackendProvider,$rootElement:b.mock.$RootElementProvider}).config(["$provide",function(a){a.decorator("$timeout",b.mock.$TimeoutDecorator)}]),b.module("ngMockE2E",["ng"]).config(["$provide",function(a){a.decorator("$httpBackend",b.mock.e2e.$httpBackendDecorator)}]),b.mock.e2e={},b.mock.e2e.$httpBackendDecorator=["$rootScope","$delegate","$browser",g],b.mock.clearDataCache=function(){var a,c=b.element.cache;for(a in c)if(Object.prototype.hasOwnProperty.call(c,a)){var d=c[a].handle;d&&b.element(d.elem).off(),delete c[a]}},a.jasmine||a.mocha){var k=null,l=function(){return!!k};beforeEach(function(){k=this}),afterEach(function(){var a=k.$injector;k.$injector=null,k.$modules=null,k=null,a&&(a.get("$rootElement").off(),a.get("$browser").pollFns.length=0),b.mock.clearDataCache(),b.forEach(b.element.fragments,function(a,c){delete b.element.fragments[c]}),i.$$lastInstance=null,b.forEach(b.callbacks,function(a,c){delete b.callbacks[c]}),b.callbacks.counter=0}),a.module=b.mock.module=function(){function a(){if(k.$injector)throw new Error("Injector already created, can not register a module!");var a=k.$modules||(k.$modules=[]);b.forEach(c,function(c){a.push(b.isObject(c)&&!b.isArray(c)?function(a){b.forEach(c,function(b,c){a.value(c,b)})}:c)})}var c=Array.prototype.slice.call(arguments,0);return l()?a():a};var m=function(a,b){this.message=a.message,this.name=a.name,a.line&&(this.line=a.line),a.sourceId&&(this.sourceId=a.sourceId),a.stack&&b&&(this.stack=a.stack+"\n"+b.stack),a.stackArray&&(this.stackArray=a.stackArray)};m.prototype.toString=Error.prototype.toString,a.inject=b.mock.inject=function(){function a(){var a=k.$modules||[];a.unshift("ngMock"),a.unshift("ng");var e=k.$injector;e||(e=k.$injector=b.injector(a));for(var f=0,g=c.length;g>f;f++)try{e.invoke(c[f]||b.noop,this)}catch(h){if(h.stack&&d)throw new m(h,d);throw h}finally{d=null}}var c=Array.prototype.slice.call(arguments,0),d=new Error("Declaration Location");return l()?a.call(k):a}}}(window,window.angular),function(){var COMPILED=!0,goog=goog||{};goog.global=this,goog.DEBUG=!0,goog.LOCALE="en",goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a];for(var b=a;(b=b.substring(0,b.lastIndexOf(".")))&&!goog.getObjectByName(b);)goog.implicitNamespaces_[b]=!0}goog.exportPath_(a)},goog.setTestOnly=function(a){if(COMPILED&&!goog.DEBUG)throw a=a||"",Error(": "+a)},COMPILED||(goog.isProvided_=function(a){return!goog.implicitNamespaces_[a]&&!!goog.getObjectByName(a)},goog.implicitNamespaces_={}),goog.exportPath_=function(a,b,c){a=a.split("."),c=c||goog.global,!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]?c[d]:c[d]={}},goog.getObjectByName=function(a,b){for(var c,d=a.split("."),e=b||goog.global;c=d.shift();){if(!goog.isDefAndNotNull(e[c]))return null;e=e[c]}return e},goog.globalize=function(a,b){var c,d=b||goog.global;for(c in a)d[c]=a[c]},goog.addDependency=function(a,b,c){if(!COMPILED){for(var d,a=a.replace(/\\/g,"/"),e=goog.dependencies_,f=0;d=b[f];f++)e.nameToPath[d]=a,a in e.pathToNames||(e.pathToNames[a]={}),e.pathToNames[a][d]=!0;for(d=0;b=c[d];d++)a in e.requires||(e.requires[a]={}),e.requires[a][b]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.require=function(a){if(!COMPILED&&!goog.isProvided_(a)){if(goog.ENABLE_DEBUG_LOADER){var b=goog.getPathFromDeps_(a);if(b)return goog.included_[b]=!0,void goog.writeScripts_()}throw a="goog.require could not find: "+a,goog.global.console&&goog.global.console.error(a),Error(a)}},goog.basePath="",goog.nullFunction=function(){},goog.identityFunction=function(a){return a},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(a){a.getInstance=function(){return a.instance_?a.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a),a.instance_=new a)}},goog.instantiatedSingletons_=[],!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return"undefined"!=typeof a&&"write"in a},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("script"),b=a.length-1;b>=0;--b){var c=a[b].src,d=c.lastIndexOf("?"),d=-1==d?c.length:d;if("base.js"==c.substr(d-7,7)){goog.basePath=c.substr(0,d-7);break}}},goog.importScript_=function(a){var b=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[a]&&b(a)&&(goog.dependencies_.written[a]=!0)},goog.writeScriptTag_=function(a){return goog.inHtmlDocument_()?(goog.global.document.write('<script type="text/javascript" src="'+a+'"></script>'),!0):!1},goog.writeScripts_=function(){function a(b){if(!(b in e.written)){if(!(b in e.visited)&&(e.visited[b]=!0,b in e.requires))for(var f in e.requires[b])if(!goog.isProvided_(f)){if(!(f in e.nameToPath))throw Error("Undefined nameToPath for "+f);a(e.nameToPath[f])}b in d||(d[b]=!0,c.push(b))}}var b,c=[],d={},e=goog.dependencies_;for(b in goog.included_)e.written[b]||a(b);for(b=0;b<c.length;b++){if(!c[b])throw Error("Undefined script input");goog.importScript_(goog.basePath+c[b])}},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.typeOf=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},goog.isDef=function(a){return void 0!==a},goog.isNull=function(a){return null===a},goog.isDefAndNotNull=function(a){return null!=a},goog.isArray=function(a){return"array"==goog.typeOf(a)},goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length},goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear},goog.isString=function(a){return"string"==typeof a},goog.isBoolean=function(a){return"boolean"==typeof a},goog.isNumber=function(a){return"number"==typeof a},goog.isFunction=function(a){return"function"==goog.typeOf(a)},goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.removeUid=function(a){"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}},goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();var c,b="array"==b?[]:{};for(c in a)b[c]=goog.cloneObject(a[c]);return b}return a},goog.bindNative_=function(a){return a.call.apply(a.bind,arguments)},goog.bindJs_=function(a,b){if(!a)throw Error();if(arguments.length>2){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),a.apply(b,d)}}return function(){return a.apply(b,arguments)}},goog.bind=function(){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);return c.unshift.apply(c,b),a.apply(this,c)}},goog.mixin=function(a,b){for(var c in b)a[c]=b[c]},goog.now=Date.now||function(){return+new Date},goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("script");c.type="text/javascript",c.defer=!1,c.appendChild(b.createTextNode(a)),b.body.appendChild(c),b.body.removeChild(c)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(a,b){var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){for(var a=a.split("-"),b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join("-")},d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a};return b?a+"-"+d(b):d(a)},goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a,goog.cssNameMappingStyle_=b},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(a,b){var c,d=b||{};for(c in d)var e=(""+d[c]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+c+"\\}","gi"),e);return a},goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)},goog.exportProperty=function(a,b,c){a[b]=c},goog.inherits=function(a,b){function c(){}c.prototype=b.prototype,a.superClass_=b.prototype,a.prototype=new c,a.prototype.constructor=a},goog.base=function(a,b){var c=arguments.callee.caller;if(c.superClass_)return c.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var d=Array.prototype.slice.call(arguments,2),e=!1,f=a.constructor;f;f=f.superClass_&&f.superClass_.constructor)if(f.prototype[b]===c)e=!0;else if(e)return f.prototype[b].apply(a,d);if(a[b]===c)return a.constructor.prototype[b].apply(a,d);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(a){a.call(goog.global)};var fb={util:{}};fb.util.validation={},fb.util.validation.validateArgCount=function(a,b,c,d){var e;if(b>d?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c),e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".")},fb.util.validation.errorPrefix_=function(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:fb.core.util.validation.assert(!1,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return a+" failed: "+(d+" argument ")},fb.util.validation.validateNamespace=function(a,b,c,d){if((!d||goog.isDef(c))&&!goog.isString(c))throw Error(fb.util.validation.errorPrefix_(a,b,d)+"must be a valid firebase namespace.")},fb.util.validation.validateCallback=function(a,b,c,d){if((!d||goog.isDef(c))&&!goog.isFunction(c))throw Error(fb.util.validation.errorPrefix_(a,b,d)+"must be a valid function.")},fb.util.validation.validateString=function(a,b,c,d){if((!d||goog.isDef(c))&&!goog.isString(c))throw Error(fb.util.validation.errorPrefix_(a,b,d)+"must be a valid string.")},fb.util.validation.validateContextObject=function(a,b,c,d){if(!(d&&!goog.isDef(c)||goog.isObject(c)&&null!==c))throw Error(fb.util.validation.errorPrefix_(a,b,d)+"must be a valid context object.")},fb.simplelogin={},fb.simplelogin.persona={},fb.simplelogin.persona.login=function(a){navigator.id.watch({onlogin:function(b){a(b)},onlogout:function(){}}),navigator.id.request({oncancel:function(){a(null)}})},fb.constants={};var NODE_CLIENT=!1;goog.json={},goog.json.isValid_=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},goog.json.parse=function(a){if(a=String(a),goog.json.isValid_(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)},goog.json.unsafeParse=function(a){return eval("("+a+")")},goog.json.serialize=function(a,b){return new goog.json.Serializer(b).serialize(a)},goog.json.Serializer=function(a){this.replacer_=a},goog.json.Serializer.prototype.serialize=function(a){var b=[];return this.serialize_(a,b),b.join("")},goog.json.Serializer.prototype.serialize_=function(a,b){switch(typeof a){case"string":this.serializeString_(a,b);break;case"number":this.serializeNumber_(a,b);break;case"boolean":b.push(a);break;case"undefined":b.push("null");break;case"object":if(null==a){b.push("null");break}if(goog.isArray(a)){this.serializeArray(a,b);break}this.serializeObject_(a,b);break;case"function":break;default:throw Error("Unknown type: "+typeof a)}},goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},goog.json.Serializer.charsToReplace_=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,goog.json.Serializer.prototype.serializeString_=function(a,b){b.push('"',a.replace(goog.json.Serializer.charsToReplace_,function(a){if(a in goog.json.Serializer.charToJsonCharCache_)return goog.json.Serializer.charToJsonCharCache_[a];var b=a.charCodeAt(0),c="\\u";return 16>b?c+="000":256>b?c+="00":4096>b&&(c+="0"),goog.json.Serializer.charToJsonCharCache_[a]=c+b.toString(16)}),'"')},goog.json.Serializer.prototype.serializeNumber_=function(a,b){b.push(isFinite(a)&&!isNaN(a)?a:"null")},goog.json.Serializer.prototype.serializeArray=function(a,b){var c=a.length;b.push("[");for(var d="",e=0;c>e;e++)b.push(d),d=a[e],this.serialize_(this.replacer_?this.replacer_.call(a,String(e),d):d,b),d=",";b.push("]")},goog.json.Serializer.prototype.serializeObject_=function(a,b){b.push("{");var c,d="";for(c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var e=a[c];"function"!=typeof e&&(b.push(d),this.serializeString_(c,b),b.push(":"),this.serialize_(this.replacer_?this.replacer_.call(a,c,e):e,b),d=",")}b.push("}")},fb.util.json={},fb.util.json.eval=function(a){return"undefined"!=typeof JSON&&goog.isDef(JSON.parse)?JSON.parse(a):goog.json.parse(a)},fb.util.json.stringify=function(a){return"undefined"!=typeof JSON&&goog.isDef(JSON.stringify)?JSON.stringify(a):goog.json.serialize(a)},fb.simplelogin.validation={};var VALID_EMAIL_REGEX_=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;fb.simplelogin.validation.isValidEmail=function(a){return goog.isString(a)&&VALID_EMAIL_REGEX_.test(a)},fb.simplelogin.validation.isValidPassword=function(a){return goog.isString(a)},fb.simplelogin.validation.validateUser=function(a,b,c,d){if((!d||goog.isDef(c))&&!fb.simplelogin.validation.isValidEmail(c))throw Error(fb.util.validation.errorPrefix_(a,b,d)+"must be a valid email address.")},fb.simplelogin.validation.validatePassword=function(a,b,c,d){if((!d||goog.isDef(c))&&!fb.simplelogin.validation.isValidPassword(c))throw Error(fb.util.validation.errorPrefix_(a,b,d)+"must be a valid password.")},fb.simplelogin.winchan=function(){function a(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function b(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}function c(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}var d,e="die",f=-1,g=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){var h=/MSIE ([0-9]{1,}[\.0-9]{0,})/;(g=g.match(h))&&1<g.length&&(f=parseFloat(g[1]))}else-1<g.indexOf("Trident")&&(h=/rv:([0-9]{2,2}[\.0-9]{0,})/,(g=g.match(h))&&1<g.length&&(f=parseFloat(g[1])));return d=f>=8,fb.util.json&&fb.util.json.eval&&fb.util.json.stringify&&window.postMessage?{open:function(f,g){function h(){if(n&&document.body.removeChild(n),n=void 0,r&&(r=clearInterval(r)),b(window,"message",i),b(window,"unload",h),q)try{q.close()}catch(a){p.postMessage(e,o)}q=p=void 0}function i(a){if(a.origin===o)try{var b=fb.util.json.eval(a.data);"ready"===b.a?p.postMessage(s,o):"error"===b.a?(h(),g&&(g(b.d),g=null)):"response"===b.a&&(h(),g&&(g(null,b.d),g=null))}catch(c){}}if(!g)throw"missing required callback argument";var j;f.url||(j="missing required 'url' parameter"),f.relay_url||(j="missing required 'relay_url' parameter"),j&&setTimeout(function(){g(j)},0),f.window_name||(f.window_name=null);var k;if(!(k=!f.window_features))a:{try{var l=navigator.userAgent;k=-1!=l.indexOf("Fennec/")||-1!=l.indexOf("Firefox/")&&-1!=l.indexOf("Android");break a}catch(m){}k=!1}k&&(f.window_features=void 0);var n,o=c(f.url);if(o!==c(f.relay_url))return setTimeout(function(){g("invalid arguments: origin of url and relay_url must match")},0);var p;d&&(n=document.createElement("iframe"),n.setAttribute("src",f.relay_url),n.style.display="none",n.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(n),p=n.contentWindow);var q=window.open(f.url,f.window_name,f.window_features);p||(p=q);var r=setInterval(function(){q&&q.closed&&(h(),g&&(g("unknown closed window"),g=null))},500),s=fb.util.json.stringify({a:"request",d:f.params});return a(window,"unload",h),a(window,"message",i),{close:h,focus:function(){if(q)try{q.focus()}catch(a){}}}},onOpen:function(c){function f(a){a=fb.util.json.stringify(a),d?o.doPost(a,j):o.postMessage(a,j)}function g(a){var d;try{d=fb.util.json.eval(a.data)}catch(e){}d&&"request"===d.a&&(b(window,"message",g),j=a.origin,c&&setTimeout(function(){c(j,d.d,function(a){c=void 0,f({a:"response",d:a})})},0))}function h(a){if(a.data===e)try{window.close()}catch(b){}}var i,j="*";if(d)a:{for(var k=window.location,l=window.opener.frames,k=k.protocol+"//"+k.host,m=l.length-1;m>=0;m--)try{if(0===l[m].location.href.indexOf(k)&&"__winchan_relay_frame"===l[m].name){i=l[m];break a}}catch(n){}i=void 0}else i=window.opener;var o=i;if(!o)throw"can't find relay frame";a(d?o:window,"message",g),a(d?o:window,"message",h);try{f({a:"ready"})}catch(p){a(o,"load",function(){f({a:"ready"})})}var q=function(){try{b(d?o:window,"message",h)}catch(a){}c&&f({a:"error",d:"client closed window"}),c=void 0;try{window.close()}catch(e){}};return a(window,"unload",q),{detach:function(){b(window,"unload",q)}}}}:{open:function(a,b,c,d){setTimeout(function(){d("unsupported browser")},0)},onOpen:function(a){setTimeout(function(){a("unsupported browser")},0)}}}(),fb.util.sjcl={};var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message},this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message},this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message},this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message},this.message=a}}};"undefined"!=typeof module&&module.exports&&(module.exports=sjcl),sjcl.cipher.aes=function(a){this.h[0][0][0]||this.w();var b,c,d,e,f=this.h[0][4],g=this.h[1];b=a.length;var h=1;if(4!==b&&6!==b&&8!==b)throw new sjcl.exception.invalid("invalid aes key size");for(this.a=[d=a.slice(0),e=[]],a=b;4*b+28>a;a++)c=d[a-1],(a%b===0||8===b&&a%b===4)&&(c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[255&c],a%b===0&&(c=c<<8^c>>>24^h<<24,h=h<<1^283*(h>>7))),d[a]=d[a-b]^c;for(b=0;a;b++,a--)c=d[3&b?a:a-4],e[b]=4>=a||4>b?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^g[3][f[255&c]]},sjcl.cipher.aes.prototype={encrypt:function(a){return this.G(a,0)},decrypt:function(a){return this.G(a,1)},h:[[[],[],[],[],[]],[[],[],[],[],[]]],w:function(){var a,b,c,d,e,f,g,h=this.h[0],i=this.h[1],j=h[4],k=i[4],l=[],m=[];for(a=0;256>a;a++)m[(l[a]=a<<1^283*(a>>7))^a]=a;for(b=c=0;!j[b];b^=d||1,c=m[c]||1)for(f=c^c<<1^c<<2^c<<3^c<<4,f=f>>8^255&f^99,j[b]=f,k[f]=b,e=l[a=l[d=l[b]]],g=16843009*e^65537*a^257*d^16843008*b,e=257*l[f]^16843008*f,a=0;4>a;a++)h[a][b]=e=e<<24^e>>>8,i[a][f]=g=g<<24^g>>>8;for(a=0;5>a;a++)h[a]=h[a].slice(0),i[a]=i[a].slice(0)},G:function(a,b){if(4!==a.length)throw new sjcl.exception.invalid("invalid aes block size");var c,d,e,f,g=this.a[b],h=a[0]^g[0],i=a[b?3:1]^g[1],j=a[2]^g[2],a=a[b?1:3]^g[3],k=g.length/4-2,l=4,m=[0,0,0,0];c=this.h[b];var n=c[0],o=c[1],p=c[2],q=c[3],r=c[4];for(f=0;k>f;f++)c=n[h>>>24]^o[i>>16&255]^p[j>>8&255]^q[255&a]^g[l],d=n[i>>>24]^o[j>>16&255]^p[a>>8&255]^q[255&h]^g[l+1],e=n[j>>>24]^o[a>>16&255]^p[h>>8&255]^q[255&i]^g[l+2],a=n[a>>>24]^o[h>>16&255]^p[i>>8&255]^q[255&j]^g[l+3],l+=4,h=c,i=d,j=e;for(f=0;4>f;f++)m[b?3&-f:f]=r[h>>>24]<<24^r[i>>16&255]<<16^r[j>>8&255]<<8^r[255&a]^g[l++],c=h,h=i,i=j,j=a,a=c;return m}},sjcl.bitArray={bitSlice:function(a,b,c){return a=sjcl.bitArray.N(a.slice(b/32),32-(31&b)).slice(1),void 0===c?a:sjcl.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return(-32&(b+c-1^b)?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=sjcl.bitArray.getPartial(c);return 32===d?a.concat(b):sjcl.bitArray.N(b,d,0|c,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return 0===b?0:32*(b-1)+sjcl.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(32*a.length<b)return a;var a=a.slice(0,Math.ceil(b/32)),c=a.length,b=31&b;return c>0&&b&&(a[c-1]=sjcl.bitArray.partial(b,a[c-1]&2147483648>>b-1,1)),a},partial:function(a,b,c){return 32===a?b:(c?0|b:b<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return!1;var c,d=0;for(c=0;c<a.length;c++)d|=a[c]^b[c];return 0===d},N:function(a,b,c,d){var e;for(void 0===d&&(d=[]);b>=32;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;return e=a.length?a[a.length-1]:0,a=sjcl.bitArray.getPartial(e),d.push(sjcl.bitArray.partial(b+a&31,b+a>32?c:d.pop(),1)),d},O:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}},sjcl.codec.utf8String={fromBits:function(a){var b,c,d="",e=sjcl.bitArray.bitLength(a);for(b=0;e/8>b;b++)0===(3&b)&&(c=a[b/4]),d+=String.fromCharCode(c>>>24),c<<=8;return decodeURIComponent(escape(d))},toBits:function(a){var b,a=unescape(encodeURIComponent(a)),c=[],d=0;for(b=0;b<a.length;b++)d=d<<8|a.charCodeAt(b),3===(3&b)&&(c.push(d),d=0);return 3&b&&c.push(sjcl.bitArray.partial(8*(3&b),d)),c}},sjcl.codec.base64={C:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=sjcl.codec.base64.C,g=0,h=sjcl.bitArray.bitLength(a);for(c&&(f=f.substr(0,62)+"-_"),c=0;6*d.length<h;)d+=f.charAt((g^a[c]>>>e)>>>26),6>e?(g=a[c]<<6-e,e+=26,c++):(g<<=6,e-=6);for(;3&d.length&&!b;)d+="=";return d},toBits:function(a,b){var c,a=a.replace(/\s|=/g,""),d=[],e=0,f=sjcl.codec.base64.C,g=0;for(b&&(f=f.substr(0,62)+"-_"),b=0;b<a.length;b++){if(c=f.indexOf(a.charAt(b)),0>c)throw new sjcl.exception.invalid("this isn't base64!");e>26?(e-=26,d.push(g^c>>>e),g=c<<32-e):(e+=6,g^=c<<32-e)}return 56&e&&d.push(sjcl.bitArray.partial(56&e,g,1)),d}},sjcl.codec.base64url={fromBits:function(a){return sjcl.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl.codec.base64.toBits(a,1)}},sjcl.hash.sha256=function(a){this.a[0]||this.w(),a?(this.m=a.m.slice(0),this.i=a.i.slice(0),this.e=a.e):this.reset()},sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()},sjcl.hash.sha256.prototype={blockSize:512,reset:function(){return this.m=this.L.slice(0),this.i=[],this.e=0,this},update:function(a){"string"==typeof a&&(a=sjcl.codec.utf8String.toBits(a));var b,c=this.i=sjcl.bitArray.concat(this.i,a);for(b=this.e,a=this.e=b+sjcl.bitArray.bitLength(a),b=512+b&-512;a>=b;b+=512)this.B(c.splice(0,16));return this},finalize:function(){var a,b=this.i,c=this.m,b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]);for(a=b.length+2;15&a;a++)b.push(0);for(b.push(Math.floor(this.e/4294967296)),b.push(0|this.e);b.length;)this.B(b.splice(0,16));return this.reset(),c},L:[],a:[],w:function(){function a(a){return 4294967296*(a-Math.floor(a))|0}var b,c=0,d=2;a:for(;64>c;d++){for(b=2;d>=b*b;b++)if(d%b===0)continue a;8>c&&(this.L[c]=a(Math.pow(d,.5))),this.a[c]=a(Math.pow(d,1/3)),c++}},B:function(a){for(var b,c,d=a.slice(0),e=this.m,f=this.a,g=e[0],h=e[1],i=e[2],j=e[3],k=e[4],l=e[5],m=e[6],n=e[7],a=0;64>a;a++)16>a?b=d[a]:(b=d[a+1&15],c=d[a+14&15],b=d[15&a]=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+d[15&a]+d[a+9&15]|0),b=b+n+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(m^k&(l^m))+f[a],n=m,m=l,l=k,k=j+b|0,j=i,i=h,h=g,g=b+(h&i^j&(h^i))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;e[0]=e[0]+g|0,e[1]=e[1]+h|0,e[2]=e[2]+i|0,e[3]=e[3]+j|0,e[4]=e[4]+k|0,e[5]=e[5]+l|0,e[6]=e[6]+m|0,e[7]=e[7]+n|0}},sjcl.mode.ccm={name:"ccm",encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=sjcl.bitArray,i=h.bitLength(c)/8,j=h.bitLength(g)/8,e=e||64,d=d||[];if(7>i)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(f=2;4>f&&j>>>8*f;f++);return 15-i>f&&(f=15-i),c=h.clamp(c,8*(15-f)),b=sjcl.mode.ccm.F(a,b,c,d,e,f),g=sjcl.mode.ccm.H(a,g,c,b,e,f),h.concat(g.data,g.tag)},decrypt:function(a,b,c,d,e){var e=e||64,d=d||[],f=sjcl.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),i=f.clamp(b,h-e),j=f.bitSlice(b,h-e),h=(h-e)/8;if(7>g)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(b=2;4>b&&h>>>8*b;b++);if(15-g>b&&(b=15-g),c=f.clamp(c,8*(15-b)),i=sjcl.mode.ccm.H(a,i,c,j,e,b),a=sjcl.mode.ccm.F(a,i.data,c,d,e,b),!f.equal(i.tag,a))throw new sjcl.exception.corrupt("ccm: tag doesn't match");return i.data},F:function(a,b,c,d,e,f){var g=[],h=sjcl.bitArray,i=h.O,e=e/8;if(e%2||4>e||e>16)throw new sjcl.exception.invalid("ccm: invalid tag length");if(d.length>4294967295||b.length>4294967295)throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");if(f=[h.partial(8,(d.length?64:0)|e-2<<2|f-1)],f=h.concat(f,c),f[3]=f[3]|h.bitLength(b)/8,f=a.encrypt(f),d.length)for(c=h.bitLength(d)/8,65279>=c?g=[h.partial(16,c)]:4294967295>=c&&(g=h.concat([h.partial(16,65534)],[c])),g=h.concat(g,d),d=0;d<g.length;d+=4)f=a.encrypt(i(f,g.slice(d,d+4).concat([0,0,0])));for(d=0;d<b.length;d+=4)f=a.encrypt(i(f,b.slice(d,d+4).concat([0,0,0])));return h.clamp(f,8*e)},H:function(a,b,c,d,e,f){var g,h=sjcl.bitArray;g=h.O;var i=b.length,j=h.bitLength(b),c=h.concat([h.partial(8,f-1)],c).concat([0,0,0]).slice(0,4),d=h.bitSlice(g(d,a.encrypt(c)),0,e);if(!i)return{tag:d,data:[]};for(g=0;i>g;g+=4)c[3]++,e=a.encrypt(c),b[g]=b[g]^e[0],b[g+1]=b[g+1]^e[1],b[g+2]=b[g+2]^e[2],b[g+3]=b[g+3]^e[3];return{tag:d,data:h.clamp(b,j)}}},sjcl.misc.hmac=function(a,b){this.K=b=b||sjcl.hash.sha256;var c=[[],[]],d=b.prototype.blockSize/32;for(this.k=[new b,new b],a.length>d&&(a=b.hash(a)),b=0;d>b;b++)c[0][b]=909522486^a[b],c[1][b]=1549556828^a[b];this.k[0].update(c[0]),this.k[1].update(c[1])},sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a){return a=new this.K(this.k[0]).update(a).finalize(),new this.K(this.k[1]).update(a).finalize()},sjcl.misc.pbkdf2=function(a,b,c,d,e){if(c=c||1e3,0>d||0>c)throw sjcl.exception.invalid("invalid params to pbkdf2");"string"==typeof a&&(a=sjcl.codec.utf8String.toBits(a));var f,g,h,i,e=e||sjcl.misc.hmac,a=new e(a),j=[],k=sjcl.bitArray;for(i=1;32*j.length<(d||1);i++){for(e=f=a.encrypt(k.concat(b,[i])),g=1;c>g;g++)for(f=a.encrypt(f),h=0;h<f.length;h++)e[h]=e[h]^f[h];j=j.concat(e)}return d&&(j=k.clamp(j,d)),j},sjcl.random={randomWords:function(a,b){var c,d=[],b=this.isReady(b);if(0===b)throw new sjcl.exception.notReady("generator isn't seeded");for(2&b&&this.T(!(1&b)),b=0;a>b;b+=4)(b+1)%65536===0&&this.J(),c=this.u(),d.push(c[0],c[1],c[2],c[3]);return this.J(),d.slice(0,a)},setDefaultParanoia:function(a){this.s=a},addEntropy:function(a,b,c){var d,e,c=c||"user",f=(new Date).valueOf(),g=this.p[c],h=this.isReady(),i=0;switch(d=this.D[c],void 0===d&&(d=this.D[c]=this.Q++),void 0===g&&(g=this.p[c]=0),this.p[c]=(this.p[c]+1)%this.b.length,typeof a){case"number":void 0===b&&(b=1),this.b[g].update([d,this.t++,1,b,f,1,0|a]);break;case"object":if(c=Object.prototype.toString.call(a),"[object Uint32Array]"===c){for(e=[],c=0;c<a.length;c++)e.push(a[c]);a=e}else for("[object Array]"!==c&&(i=1),c=0;c<a.length&&!i;c++)"number"!=typeof a[c]&&(i=1);if(!i){if(void 0===b)for(c=b=0;c<a.length;c++)for(e=a[c];e>0;)b++,e>>>=1;this.b[g].update([d,this.t++,2,b,f,a.length].concat(a))}break;case"string":void 0===b&&(b=a.length),this.b[g].update([d,this.t++,3,b,f,a.length]),this.b[g].update(a);break;default:i=1}if(i)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this.j[g]=this.j[g]+b,this.f=this.f+b,0===h&&(0!==this.isReady()&&this.I("seeded",Math.max(this.g,this.f)),this.I("progress",this.getProgress()))},isReady:function(a){return a=this.A[void 0!==a?a:this.s],this.g&&this.g>=a?this.j[0]>80&&(new Date).valueOf()>this.M?3:1:this.f>=a?2:0
},getProgress:function(a){return a=this.A[a?a:this.s],this.g>=a?1:this.f>a?1:this.f/a},startCollectors:function(){if(!this.l){if(window.addEventListener)window.addEventListener("load",this.n,!1),window.addEventListener("mousemove",this.o,!1);else{if(!document.attachEvent)throw new sjcl.exception.bug("can't attach event");document.attachEvent("onload",this.n),document.attachEvent("onmousemove",this.o)}this.l=!0}},stopCollectors:function(){this.l&&(window.removeEventListener?(window.removeEventListener("load",this.n,!1),window.removeEventListener("mousemove",this.o,!1)):window.detachEvent&&(window.detachEvent("onload",this.n),window.detachEvent("onmousemove",this.o)),this.l=!1)},addEventListener:function(a,b){this.q[a][this.P++]=b},removeEventListener:function(a,b){var c,a=this.q[a],d=[];for(c in a)a.hasOwnProperty(c)&&a[c]===b&&d.push(c);for(b=0;b<d.length;b++)c=d[b],delete a[c]},b:[new sjcl.hash.sha256],j:[0],z:0,p:{},t:0,D:{},Q:0,g:0,f:0,M:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],r:void 0,s:6,l:!1,q:{progress:{},seeded:{}},P:0,A:[0,48,64,96,128,192,256,384,512,768,1024],u:function(){for(var a=0;4>a&&(this.d[a]=this.d[a]+1|0,!this.d[a]);a++);return this.r.encrypt(this.d)},J:function(){this.a=this.u().concat(this.u()),this.r=new sjcl.cipher.aes(this.a)},S:function(a){for(this.a=sjcl.hash.sha256.hash(this.a.concat(a)),this.r=new sjcl.cipher.aes(this.a),a=0;4>a&&(this.d[a]=this.d[a]+1|0,!this.d[a]);a++);},T:function(a){var b,c=[],d=0;for(this.M=c[0]=(new Date).valueOf()+3e4,b=0;16>b;b++)c.push(4294967296*Math.random()|0);for(b=0;b<this.b.length&&(c=c.concat(this.b[b].finalize()),d+=this.j[b],this.j[b]=0,a||!(this.z&1<<b));b++);this.z>=1<<this.b.length&&(this.b.push(new sjcl.hash.sha256),this.j.push(0)),this.f=this.f-d,d>this.g&&(this.g=d),this.z++,this.S(c)},o:function(a){sjcl.random.addEntropy([a.x||a.clientX||a.offsetX||0,a.y||a.clientY||a.offsetY||0],2,"mouse")},n:function(){sjcl.random.addEntropy((new Date).valueOf(),2,"loadtime")},I:function(a,b){var c,a=sjcl.random.q[a],d=[];for(c in a)a.hasOwnProperty(c)&&d.push(a[c]);for(c=0;c<d.length;c++)d[c](b)}};try{var s=new Uint32Array(32);crypto.getRandomValues(s),sjcl.random.addEntropy(s,1024,"crypto['getRandomValues']")}catch(t){}sjcl.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(a,b,c,d){var e,c=c||{},d=d||{},f=sjcl.json,g=f.c({iv:sjcl.random.randomWords(4,0)},f.defaults);if(f.c(g,c),c=g.adata,"string"==typeof g.salt&&(g.salt=sjcl.codec.base64.toBits(g.salt)),"string"==typeof g.iv&&(g.iv=sjcl.codec.base64.toBits(g.iv)),!sjcl.mode[g.mode]||!sjcl.cipher[g.cipher]||"string"==typeof a&&g.iter<=100||64!==g.ts&&96!==g.ts&&128!==g.ts||128!==g.ks&&192!==g.ks&&256!==g.ks||g.iv.length<2||g.iv.length>4)throw new sjcl.exception.invalid("json encrypt: invalid parameters");return"string"==typeof a&&(e=sjcl.misc.cachedPbkdf2(a,g),a=e.key.slice(0,g.ks/32),g.salt=e.salt),"string"==typeof b&&(b=sjcl.codec.utf8String.toBits(b)),"string"==typeof c&&(c=sjcl.codec.utf8String.toBits(c)),e=new sjcl.cipher[g.cipher](a),f.c(d,g),d.key=a,g.ct=sjcl.mode[g.mode].encrypt(e,b,g.iv,c,g.ts),f.encode(g)},decrypt:function(a,b,c,d){var e,c=c||{},d=d||{},f=sjcl.json,b=f.c(f.c(f.c({},f.defaults),f.decode(b)),c,!0),c=b.adata;if("string"==typeof b.salt&&(b.salt=sjcl.codec.base64.toBits(b.salt)),"string"==typeof b.iv&&(b.iv=sjcl.codec.base64.toBits(b.iv)),!sjcl.mode[b.mode]||!sjcl.cipher[b.cipher]||"string"==typeof a&&b.iter<=100||64!==b.ts&&96!==b.ts&&128!==b.ts||128!==b.ks&&192!==b.ks&&256!==b.ks||!b.iv||b.iv.length<2||b.iv.length>4)throw new sjcl.exception.invalid("json decrypt: invalid parameters");return"string"==typeof a&&(e=sjcl.misc.cachedPbkdf2(a,b),a=e.key.slice(0,b.ks/32),b.salt=e.salt),"string"==typeof c&&(c=sjcl.codec.utf8String.toBits(c)),e=new sjcl.cipher[b.cipher](a),c=sjcl.mode[b.mode].decrypt(e,b.ct,b.iv,c,b.ts),f.c(d,b),d.key=a,sjcl.codec.utf8String.fromBits(c)},encode:function(a){var b,c="{",d="";for(b in a)if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name");switch(c+=d+'"'+b+'":',d=",",typeof a[b]){case"number":case"boolean":c+=a[b];break;case"string":c+='"'+escape(a[b])+'"';break;case"object":c+='"'+sjcl.codec.base64.fromBits(a[b],0)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type")}}return c+"}"},decode:function(a){if(a=a.replace(/\s/g,""),!a.match(/^\{.*\}$/))throw new sjcl.exception.invalid("json decode: this isn't json!");var b,c,a=a.replace(/^\{|\}$/g,"").split(/,/),d={};for(b=0;b<a.length;b++){if(!(c=a[b].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new sjcl.exception.invalid("json decode: this isn't json!");d[c[2]]=c[3]?parseInt(c[3],10):c[2].match(/^(ct|salt|iv)$/)?sjcl.codec.base64.toBits(c[4]):unescape(c[4])}return d},c:function(a,b,c){if(void 0===a&&(a={}),void 0===b)return a;for(var d in b)if(b.hasOwnProperty(d)){if(c&&void 0!==a[d]&&a[d]!==b[d])throw new sjcl.exception.invalid("required parameter overridden");a[d]=b[d]}return a},V:function(a,b){var c,d={};for(c in a)a.hasOwnProperty(c)&&a[c]!==b[c]&&(d[c]=a[c]);return d},U:function(a,b){var c,d={};for(c=0;c<b.length;c++)void 0!==a[b[c]]&&(d[b[c]]=a[b[c]]);return d}},sjcl.encrypt=sjcl.json.encrypt,sjcl.decrypt=sjcl.json.decrypt,sjcl.misc.R={},sjcl.misc.cachedPbkdf2=function(a,b){var c,d=sjcl.misc.R,b=b||{};return c=b.iter||1e3,d=d[a]=d[a]||{},c=d[c]=d[c]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl.random.randomWords(2,0)},d=void 0===b.salt?c.firstSalt:b.salt,c[d]=c[d]||sjcl.misc.pbkdf2(a,d,b.iter),{key:c[d].slice(0),salt:d.slice(0)}};var FirebaseSimpleLogin=function(a,b,c){var d=a.toString(),e=null;if(fb.util.validation.validateArgCount("new FirebaseSimpleLogin",1,3,arguments.length),fb.util.validation.validateCallback("new FirebaseSimpleLogin",2,b,!1),"string"==typeof a)throw Error("new FirebaseSimpleLogin(): Oops, it looks like you passed a string instead of a Firebase reference (i.e. new Firebase(<firebaseURL>)).");if(goog.isString(d)){var f=d.indexOf("//");f>=0&&(d=d.substring(f+2)),f=d.indexOf("."),f>=0&&(e=d.substring(0,f))}if(!goog.isString(e))throw Error("new FirebaseSimpleLogin(): First argument must be a valid Firebase reference (i.e. new Firebase(<firebaseURL>)).");"file:"===window.location.protocol&&!this.isMobilePhoneGap()&&!this.isMobileTriggerIo()&&console&&console.log&&console.log("FirebaseSimpleLogin(): Due to browser security restrictions, loading applications via `file://*` URLs will prevent popup-based authentication providers from working properly. When testing locally, you'll need to run a barebones webserver on your machine rather than loading your test files via `file://*`. The easiest way to run a barebones server on your local machine is to `cd` to the root directory of your code and run `python -m SimpleHTTPServer`, which will allow you to access your content via `http://127.0.0.1:8000/*`."),this.mRef=a,this.mNamespace=e,this.mApiHost="https://auth.firebase.com",this.sessionLengthDays=null,this.mLoginStateChange=function(){var d=Array.prototype.slice.apply(arguments),e={anonymous:["uid","firebaseAuthToken","id","provider"],password:"uid email firebaseAuthToken id md5_hash provider".split(" "),facebook:"uid accessToken displayName firebaseAuthToken id provider".split(" "),github:"uid accessToken displayName firebaseAuthToken id provider username".split(" "),persona:"uid email firebaseAuthToken id md5_hash provider".split(" "),twitter:"uid accessToken accessTokenSecret displayName firebaseAuthToken id provider username".split(" ")};if("function"==typeof window.Proxy&&2===window.Proxy.length&&d[1]&&d[1].provider){var f=d[1].provider;Firebase&&Firebase.INTERNAL&&Firebase.INTERNAL.statsIncrementCounter&&(d[1]=new Proxy(d[1],{get:function(b,c){return 0>e[f].indexOf(c)&&Firebase.INTERNAL.statsIncrementCounter(a,"simple_login_undocumented_attribute_use."+c),b[c]}}))}setTimeout(function(){b.apply(c,d)},0)},this.resumeSession()};goog.exportSymbol("FirebaseSimpleLogin",FirebaseSimpleLogin),FirebaseSimpleLogin.onOpen=function(a){fb.simplelogin.winchan.onOpen(a)},goog.exportProperty(FirebaseSimpleLogin,"onOpen",FirebaseSimpleLogin.onOpen),FirebaseSimpleLogin.prototype.hasLocalStorage=function(){try{localStorage.setItem("firebase-sentinel","test");var a=localStorage.getItem("firebase-sentinel");return localStorage.removeItem("firebase-sentinel"),"test"===a}catch(b){}return!1},FirebaseSimpleLogin.prototype.resumeSession=function(){var a={};if(this.hasLocalStorage()){var b=this.readCookie("firebaseSessionKey"),c=localStorage.getItem("firebaseSession");if(b&&c)try{a=fb.util.json.eval(sjcl.decrypt(b,fb.util.json.eval(c)))}catch(d){}}a&&a.token&&a.user?this.attemptAuth(a.token,a.user,!1):this.mLoginStateChange(null,null)},FirebaseSimpleLogin.prototype.saveSession=function(a,b){if(this.hasLocalStorage()){var c=b.sessionKey,d=sjcl.encrypt(c,fb.util.json.stringify({token:a,user:b}));this.writeCookie("firebaseSessionKey",c,this.sessionLengthDays),localStorage.setItem("firebaseSession",fb.util.json.stringify(d))}},FirebaseSimpleLogin.prototype.clearSession=function(){this.hasLocalStorage()&&(this.writeCookie("firebaseSessionKey","",-1),localStorage.removeItem("firebaseSession"))},FirebaseSimpleLogin.prototype.writeCookie=function(a,b,c){var d="";c&&(d=new Date,d.setTime(d.getTime()+864e5*c),d="; expires="+d.toGMTString()),document.cookie=a+"="+b+d+"; path=/"},FirebaseSimpleLogin.prototype.readCookie=function(a){for(var a=a+"=",b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null},FirebaseSimpleLogin.prototype.attemptAuth=function(a,b,c){var d=this;this.mRef.auth(a,function(e,f){e?(d.clearSession(),d.mLoginStateChange(null,null)):(c&&d.saveSession(a,b),"function"==typeof f&&f(),delete b.sessionKey,b.firebaseAuthToken=a,d.mLoginStateChange(null,b))},function(){d.clearSession(),d.mLoginStateChange(null,null)})},FirebaseSimpleLogin.prototype.login=function(a){fb.util.validation.validateString(d,1,a,!1);var b=this,c={},a=a.toLowerCase(),d="FirebaseSimpleLogin.login("+a+")";if("password"===a){if(c=arguments[1]||{},!fb.simplelogin.validation.isValidEmail(c.email))return this.mLoginStateChange(this.formatError({code:"INVALID_EMAIL",message:"Invalid email specified."}));if(!fb.simplelogin.validation.isValidPassword(c.password))return this.mLoginStateChange(this.formatError({code:"INVALID_PASSWORD",message:"Invalid password specified."}))}else("facebook"===a||"github"===a||"persona"===a||"twitter"===a||"anonymous"===a)&&(fb.util.validation.validateArgCount(d,1,2,arguments.length),c=arguments[1]||{});var e=this.mLoginStateChange;switch(this.sessionLengthDays=c.rememberMe?30:null,a){case"password":this.jsonp("/auth/firebase",{email:c.email,password:c.password},function(a,c){a||!c.token?e(b.formatError(a)):b.attemptAuth(c.token,c.user,!0)});break;case"github":c.height=850,c.width=950;case"facebook":case"twitter":d="twitter"===a&&c.user_id&&c.oauth_token&&c.oauth_token_secret,"facebook"===a&&c.access_token||d?this.jsonp("/auth/"+a+"/token",c,function(a,c){a||!c.token?e(b.formatError(a)):b.attemptAuth(c.token,c.user,!0)}):this.launchAuthWindow(a,c,function(a,c,d){a?b.mLoginStateChange(b.formatError(a),null):b.attemptAuth(c,d,!0)});break;case"persona":if(!navigator.id)throw Error(d+": Unable to find Persona include.js");fb.simplelogin.persona.login(function(a){null===a?e(b.formatError({code:"UNKNOWN_ERROR",message:"User denied authentication request or an error occurred."})):b.jsonp("/auth/persona/token",{assertion:a},function(a,c){a||!c.token?e(b.formatError(a),null):b.attemptAuth(c.token,c.user,!0)})});break;case"anonymous":b.jsonp("/auth/anonymous",{},function(a,c){a||!c.token?e(b.formatError(a),null):b.attemptAuth(c.token,c.user,!0)});break;default:throw Error("FirebaseSimpleLogin.login() failed: unrecognized authentication provider")}},goog.exportProperty(FirebaseSimpleLogin.prototype,"login",FirebaseSimpleLogin.prototype.login),FirebaseSimpleLogin.prototype.logout=function(){fb.util.validation.validateArgCount("FirebaseSimpleLogin.logout",0,0,arguments.length),this.clearSession(),this.mRef.unauth(),this.mLoginStateChange(null,null)},goog.exportProperty(FirebaseSimpleLogin.prototype,"logout",FirebaseSimpleLogin.prototype.logout),FirebaseSimpleLogin.prototype.parseURL=function(a){var b=document.createElement("a");b.href=a;for(var c,a=b.protocol.replace(":",""),d=b.hostname,e=b.port,f=b.search,g={},h=b.search.replace(/^\?/,"").split("&"),i=h.length,j=0;i>j;j++)h[j]&&(c=h[j].split("="),g[c[0]]=c[1]);return{protocol:a,host:d,port:e,query:f,params:g,hash:b.hash.replace("#",""),path:b.pathname.replace(/^([^\/])/,"/$1")}},FirebaseSimpleLogin.prototype.isMobilePhoneGap=function(){return(window.cordova||window.PhoneGap||window.phonegap)&&/^file:\/{3}[^\/]/i.test(window.location.href)&&/ios|iphone|ipod|ipad|android/i.test(navigator.userAgent)},FirebaseSimpleLogin.prototype.isMobileTriggerIo=function(){return window.forge&&/^file:\/{3}[^\/]/i.test(window.location.href)&&/ios|iphone|ipod|ipad|android/i.test(navigator.userAgent)},FirebaseSimpleLogin.prototype.launchAuthWindow=function(a,b,c){var d=this,a=this.mApiHost+"/auth/"+a+"?firebase="+this.mNamespace;b.scope&&(a+="&scope="+b.scope),b.debug&&(a+="&debug="+b.debug);var e={menubar:0,location:0,resizable:0,scrollbars:1,status:0,dialog:1,width:700,height:375};if(b.height&&(e.height=b.height,delete b.height),b.width&&(e.width=b.width,delete b.width),this.isMobilePhoneGap()){var f=window.open(a+"&internalRedirect=true&transport=internalRedirect","blank","location=no"),g=!1;f.addEventListener("loadstop",function(a){try{var b=d.parseURL(a.url);if("/auth/_blank"===b.path){f.close();var e,h=b.params,a={};for(e in h)try{a[e]=fb.util.json.eval(decodeURIComponent(h[e]))}catch(i){}if(!g)return g=!0,a&&a.error?c(a.error):a&&a.token&&a.user?c(null,a.token,a.user):c({code:"UNKNOWN_ERROR",message:"An unknown error occurred."})}}catch(j){if(f.close(),!g)return g=!0,c({code:"UNKNOWN_ERROR",message:"An unknown error occurred."})}}),f.addEventListener("exit",function(){return g?void 0:(g=!0,c({code:"UNKNOWN_ERROR",message:"An unknown error occurred."}))}),setTimeout(function(){f&&f.close&&f.close()},4e4)}else if(this.isMobileTriggerIo()){if(!window.forge||!window.forge.tabs)return c({code:"TRIGGER_IO_ERROR",message:'"forge.tabs" module required when using Firebase Simple Login and Trigger.io'});forge.tabs.openWithOptions({url:a+"&internalRedirect=true&transport=internalRedirect",pattern:this.mApiHost+"/auth/_blank*"},function(a){var b=null;if(a&&a.url)try{var e,f=d.parseURL(a.url).params,b={};for(e in f)b[e]=fb.util.json.eval(decodeURIComponent(f[e]))}catch(g){}else if(a&&a.userCancelled)return c({code:"USER_DENIED",message:"User cancelled the authentication request."});return b&&b.token&&b.user?c(null,b.token,b.user):c(b&&b.error?b.error:{code:"UNKNOWN_ERROR",message:"An unknown error occurred."})},function(){c({code:"UNKNOWN_ERROR",message:"An unknown error occurred."})})}else{var h,b=[];for(h in e)b.push(h+"="+e[h]);fb.simplelogin.winchan.open({url:a+"&transport=winchan",relay_url:this.mApiHost+"/auth/channel",window_features:b.join(",")},function(a,b){b&&b.token&&b.user?c(null,b.token,b.user):c("unknown closed window"===a?{code:"USER_DENIED",message:"User cancelled the authentication request."}:b.error?b.error:{code:"UNKNOWN_ERROR",message:"An unknown error occurred."})})}},FirebaseSimpleLogin.prototype.createUser=function(a,b,c){var d=this;return fb.util.validation.validateArgCount("FirebaseSimpleLogin.createUser",3,3,arguments.length),fb.util.validation.validateCallback("FirebaseSimpleLogin.createUser",3,c,!1),fb.simplelogin.validation.isValidEmail(a)?fb.simplelogin.validation.isValidPassword(b)?void this.jsonp("/auth/firebase/create",{email:a,password:b},function(a,b){a?c(d.formatError(a),null):c(null,b)}):c(this.formatError({code:"INVALID_PASSWORD",message:"Invalid password specified. "})):c(this.formatError({code:"INVALID_EMAIL",message:"Invalid email specified."}))},goog.exportProperty(FirebaseSimpleLogin.prototype,"createUser",FirebaseSimpleLogin.prototype.createUser),FirebaseSimpleLogin.prototype.changePassword=function(a,b,c,d){var e=this;return fb.util.validation.validateArgCount("FirebaseSimpleLogin.changePassword",4,4,arguments.length),fb.util.validation.validateCallback("FirebaseSimpleLogin.changePassword",4,d,!1),fb.simplelogin.validation.isValidEmail(a)?fb.simplelogin.validation.isValidPassword(b)&&fb.simplelogin.validation.isValidPassword(c)?void this.jsonp("/auth/firebase/update",{email:a,oldPassword:b,newPassword:c},function(a){a?d(e.formatError(a),!1):d(null,!0)}):d(this.formatError({code:"INVALID_PASSWORD",message:"Invalid password specified. "})):d(this.formatError({code:"INVALID_EMAIL",message:"Invalid email specified."}))},goog.exportProperty(FirebaseSimpleLogin.prototype,"changePassword",FirebaseSimpleLogin.prototype.changePassword),FirebaseSimpleLogin.prototype.removeUser=function(a,b,c){var d=this;return fb.util.validation.validateArgCount("FirebaseSimpleLogin.removeUser",3,3,arguments.length),fb.util.validation.validateCallback("FirebaseSimpleLogin.removeUser",3,c,!1),fb.simplelogin.validation.isValidEmail(a)?fb.simplelogin.validation.isValidPassword(b)?void this.jsonp("/auth/firebase/remove",{email:a,password:b},function(a){a?c(d.formatError(a),!1):c(null,!0)}):c(this.formatError({code:"INVALID_PASSWORD",message:"Invalid password specified. "})):c(this.formatError({code:"INVALID_EMAIL",message:"Invalid email specified."}))},goog.exportProperty(FirebaseSimpleLogin.prototype,"removeUser",FirebaseSimpleLogin.prototype.removeUser),FirebaseSimpleLogin._callbacks={},FirebaseSimpleLogin.prototype.jsonp=function(a,b,c){var d,e=this,f=this.mApiHost+a,f=f+(/\?/.test(f)?"":"?"),f=f+("&firebase="+this.mNamespace),f=f+"&transport=jsonp";for(d in b)f+="&"+encodeURIComponent(d)+"="+encodeURIComponent(b[d]);var g="_firebaseXDR"+(new Date).getTime().toString()+Math.floor(100*Math.random()),f=f+("&callback="+encodeURIComponent("FirebaseSimpleLogin._callbacks."+g));FirebaseSimpleLogin._callbacks[g]=function(a){var b=a.error||null;delete a.error,c(b,a),setTimeout(function(){delete FirebaseSimpleLogin._callbacks[g];var a=document.getElementById(g);null!==a&&a.parentNode.removeChild(a)})},setTimeout(function(){try{var a=document.createElement("script");a.type="text/javascript",a.id=g,a.async=!0,a.src=f,a.onerror=function(){var a=document.getElementById(g);null!==a&&a.parentNode.removeChild(a),c(e.formatError({code:"SERVER_ERROR",message:"An unknown server error occurred."}))};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}catch(d){c(e.formatError({code:"SERVER_ERROR",message:"An unknown server error occurred."}))}},1)},FirebaseSimpleLogin.prototype.formatError=function(a){var b=Error(a.message||"");return b.code=a.code||"UNKNOWN_ERROR",b};var FirebaseAuthClient=function(a,b,c){return Firebase&&Firebase.INTERNAL&&Firebase.INTERNAL.statsIncrementCounter&&Firebase.INTERNAL.statsIncrementCounter(a,"simple_login_deprecated_constructor"),"undefined"!=typeof console&&("undefined"!=typeof console.warn?console.warn("FirebaseAuthClient class being deprecated. Please use https://cdn.firebase.com/v0/firebase-simple-login.js and reference FirebaseSimpleLogin instead."):console.log("FirebaseAuthClient class being deprecated. Please use https://cdn.firebase.com/v0/firebase-simple-login.js and reference FirebaseSimpleLogin instead.")),new FirebaseSimpleLogin(a,b,c)};goog.exportSymbol("FirebaseAuthClient",FirebaseAuthClient),FirebaseAuthClient.onOpen=FirebaseSimpleLogin.onOpen,goog.exportProperty(FirebaseAuthClient,"onOpen",FirebaseAuthClient.onOpen)}(),function(){var a,b;angular.module("firebase",[]).value("Firebase",Firebase),angular.module("firebase").factory("$firebase",["$q","$parse","$timeout",function(b,c,d){return function(e){var f=new a(b,c,d,e);return f.construct()}}]),angular.module("firebase").filter("orderByPriority",function(){return function(a){if(!a)return[];if(!a.$getIndex||"function"!=typeof a.$getIndex){var b=Object.prototype.toString.call(a);if("object"==typeof a&&"[object Object]"==b){var c=[];for(var d in a)a.hasOwnProperty(d)&&c.push(a[d]);return c}return a}var e=[],f=a.$getIndex();if(f.length<=0)return a;for(var g=0;g<f.length;g++){var h=a[f[g]];h&&(h.$id=f[g],e.push(h))}return e}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var c=this.length>>>0;for(b=+b||0,1/0===Math.abs(b)&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1}),a=function(a,b,c,d){if(this._q=a,this._bound=!1,this._loaded=!1,this._parse=b,this._timeout=c,this._index=[],this._on={change:[],loaded:[],child_added:[],child_moved:[],child_changed:[],child_removed:[]},"string"==typeof d)throw new Error("Please provide a Firebase reference instead of a URL, eg: new Firebase(url)");this._fRef=d},a.prototype={construct:function(){var b=this,c={};return c.$bind=function(a,c){return b._bind(a,c)},c.$add=function(a){function c(a){a?e.reject(a):e.resolve(d)}var d,e=b._q.defer();return d="object"==typeof a?b._fRef.ref().push(b._parseObject(a),c):b._fRef.ref().push(a,c),e.promise},c.$save=function(a){function c(a){a?d.reject(a):d.resolve()}var d=b._q.defer();if(a){var e=b._parseObject(b._object[a]);b._fRef.ref().child(a).set(e,c)}else b._fRef.ref().set(b._parseObject(b._object),c);return d.promise},c.$set=function(a){var c=b._q.defer();return b._fRef.ref().set(a,function(a){a?c.reject(a):c.resolve()}),c.promise},c.$transaction=function(a,c){var d=b._q.defer();b._fRef.ref().transaction(a,function(a,b,c){a?d.reject(a):d.resolve(b?c:null)},c)},c.$remove=function(a){function c(a){a?d.reject(a):d.resolve()}var d=b._q.defer();return a?b._fRef.ref().child(a).remove(c):b._fRef.ref().remove(c),d.promise},c.$child=function(c){var d=new a(b._q,b._parse,b._timeout,b._fRef.ref().child(c));return d.construct()},c.$on=function(a,c){if("loaded"==a&&b._loaded)return void b._timeout(function(){c()});if(!b._on.hasOwnProperty(a))throw new Error("Invalid event type "+a+" specified");b._on[a].push(c)},c.$off=function(a,c){if(b._on.hasOwnProperty(a))if(c){var d=b._on[a].indexOf(c);-1!==d&&b._on[a].splice(d,1)}else b._on[a]=[];else b._fRef.off()},c.$auth=function(a){var c=b._q.defer();return b._fRef.auth(a,function(a,b){null!==a?c.reject(a):c.resolve(b)},function(a){c.reject(a)}),c.promise},c.$getIndex=function(){return angular.copy(b._index)},b._object=c,b._getInitialValue(),b._object},_getInitialValue:function(){var a=this,b=function(c){var d=c.val();if(null===d&&a._bound){var e=a._parseObject(a._parse(a._name)(a._scope));switch(typeof e){case"string":case"undefined":d="";break;case"number":d=0;break;case"boolean":d=!1}}switch(typeof d){case"string":case"number":case"boolean":a._updatePrimitive(d);break;case"object":a._getChildValues(),a._fRef.off("value",b);break;default:throw new Error("Unexpected type from remote data "+typeof d)}a._loaded=!0,a._broadcastEvent("loaded",d)};a._fRef.on("value",b)},_getChildValues:function(){function a(a,b){var c=a.name(),e=a.val(),f=d._index.indexOf(c);if(-1!==f&&d._index.splice(f,1),b){var g=d._index.indexOf(b);d._index.splice(g+1,0,c)}else d._index.unshift(c);null!==a.getPriority()&&(e.$priority=a.getPriority()),d._updateModel(c,e)}function b(a,b){return function(c,e){b(c,e),d._broadcastEvent(a,{snapshot:{name:c.name(),value:c.val()},prevChild:e})}}function c(a,c){d._fRef.on(a,b(a,c))}var d=this;c("child_added",a),c("child_moved",a),c("child_changed",a),c("child_removed",function(a){var b=a.name(),c=d._index.indexOf(b);d._index.splice(c,1),d._updateModel(b,null)})},_updateModel:function(a,b){var c=this;c._timeout(function(){if(null==b?delete c._object[a]:c._object[a]=b,c._broadcastEvent("change",a),c._bound){var d=c._object,e=c._parse(c._name)(c._scope);angular.equals(d,e)||c._parse(c._name).assign(c._scope,angular.copy(d))}})},_updatePrimitive:function(a){var b=this;b._timeout(function(){if(b._object.$value&&angular.equals(b._object.$value,a)||(b._object.$value=a),b._broadcastEvent("change"),b._bound){var c=b._parseObject(b._parse(b._name)(b._scope));angular.equals(c,a)||b._parse(b._name).assign(b._scope,a)}})},_broadcastEvent:function(a,b){function c(a,b){e._timeout(function(){a(b)})}var d=this._on[a]||[],e=this;if(d.length>0)for(var f=0;f<d.length;f++)"function"==typeof d[f]&&c(d[f],b)},_bind:function(a,b){var c=this,d=c._q.defer();c._name=b,c._bound=!0,c._scope=a;var e=c._parse(b)(a);void 0!==e&&"object"==typeof e&&c._fRef.update(c._parseObject(e));var f=a.$watch(b,function(){var d=c._parseObject(c._parse(b)(a));c._object.$value&&angular.equals(d,c._object.$value)||angular.equals(d,c._object)||void 0!==d&&c._loaded&&(c._fRef.set?c._fRef.set(d):c._fRef.ref().update(d))},!0);return a.$on("$destroy",function(){f()}),c._fRef.once("value",function(a){c._timeout(function(){"object"!=typeof a.val()?d.resolve(f):c._timeout(function(){d.resolve(f)})})}),d.promise},_parseObject:function(a){function b(a){for(var c in a)a.hasOwnProperty(c)&&("$priority"==c?(a[".priority"]=a.$priority,delete a.$priority):"object"==typeof a[c]&&b(a[c]));return a}var c=b(angular.copy(a));return angular.fromJson(angular.toJson(c))}},angular.module("firebase").factory("$firebaseSimpleLogin",["$q","$timeout","$rootScope",function(a,c,d){return function(e){var f=new b(a,c,d,e);return f.construct()}}]),b=function(a,b,c,d){if(this._q=a,this._timeout=b,this._rootScope=c,this._loginDeferred=null,this._getCurrentUserDeferred=[],this._currentUserData=void 0,"string"==typeof d)throw new Error("Please provide a Firebase reference instead of a URL, eg: new Firebase(url)");this._fRef=d},b.prototype={construct:function(){var a={user:null,$login:this.login.bind(this),$logout:this.logout.bind(this),$createUser:this.createUser.bind(this),$changePassword:this.changePassword.bind(this),$removeUser:this.removeUser.bind(this),$getCurrentUser:this.getCurrentUser.bind(this)};if(this._object=a,!window.FirebaseSimpleLogin){var b=new Error("FirebaseSimpleLogin is undefined. Did you forget to include firebase-simple-login.js?");throw this._rootScope.$broadcast("$firebaseSimpleLogin:error",b),b}var c=new FirebaseSimpleLogin(this._fRef,this._onLoginEvent.bind(this));return this._authClient=c,this._object},login:function(a,b){var c=this._q.defer(),d=this;return this.getCurrentUser().then(function(){d._loginDeferred=c,d._authClient.login(a,b)}),c.promise},logout:function(){this._authClient.logout(),delete this._currentUserData},createUser:function(a,b,c){var d=this,e=this._q.defer();return d._authClient.createUser(a,b,function(f,g){f?(d._rootScope.$broadcast("$firebaseSimpleLogin:error",f),e.reject(f)):e.resolve(c?g:d.login("password",{email:a,password:b}))}),e.promise},changePassword:function(a,b,c){var d=this,e=this._q.defer();return d._authClient.changePassword(a,b,c,function(a){a?(d._rootScope.$broadcast("$firebaseSimpleLogin:error",a),e.reject(a)):e.resolve()}),e.promise},getCurrentUser:function(){var a=this,b=this._q.defer();return void 0!==a._currentUserData?b.resolve(a._currentUserData):a._getCurrentUserDeferred.push(b),b.promise},removeUser:function(a,b){var c=this,d=this._q.defer();return c._authClient.removeUser(a,b,function(a){a?(c._rootScope.$broadcast("$firebaseSimpleLogin:error",a),d.reject(a)):d.resolve()}),d.promise},_onLoginEvent:function(a,b){if(this._currentUserData!==b||null!==a){var c=this;a?(c._loginDeferred&&(c._loginDeferred.reject(a),c._loginDeferred=null),c._rootScope.$broadcast("$firebaseSimpleLogin:error",a)):(this._currentUserData=b,c._timeout(function(){for(c._object.user=b,b?c._rootScope.$broadcast("$firebaseSimpleLogin:login",b):c._rootScope.$broadcast("$firebaseSimpleLogin:logout"),c._loginDeferred&&(c._loginDeferred.resolve(b),c._loginDeferred=null);c._getCurrentUserDeferred.length>0;){var a=c._getCurrentUserDeferred.pop();a.resolve(b)}}))}}}}();